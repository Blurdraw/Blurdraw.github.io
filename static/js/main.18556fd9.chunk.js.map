{"version":3,"sources":["lib/pub-sub.js","components/menu/index.jsx","components/search-input/search-input.jsx","components/search-input/adv-item.jsx","lib/device-detector.js","components/search-input/src/adv-funcs.js","components/search-input/advPanel.jsx","lib/HttpReq.js","lib/link-list.js","lib/css-mix.js","components/home/src/link-item.jsx","store/reducers/deal-theme.js","store/reducers/deal-theme-name.js","store/reducers/deal-todo.js","store/reducers/index.js","store/index.js","store/reducers/deal-bg-blur.js","store/reducers/deal-link-list.js","store/reducers/deal-user.js","store/reducers/deal-bg-pic.js","store/reducers/deal-dock.js","lib/themeManager.js","lib/bgPicManager.js","components/home/src/add.jsx","components/home/src/link-edit.jsx","components/home/src/link-list.jsx","components/home/src/link-panel.jsx","components/timer/index.jsx","components/home/src/daily-sentence.jsx","components/Todo/firstTodo.jsx","components/Todo/index.jsx","components/home/index.jsx","components/about/index.jsx","components/header/index.jsx","lib/ws-cli.js","components/sign/index.jsx","components/user/avatar.jsx","components/user/usr-pre.jsx","components/setting/component/pic.jsx","components/setting/component/Bing.jsx","components/setting/bg.jsx","components/setting/index.jsx","components/message/index.jsx","components/message/all-msg.jsx","components/message/src/msg-bubble.jsx","components/message/src/tri.jsx","components/message/src/msg-item.jsx","components/message/src/edit-panel.jsx","components/message/src/friend.jsx","components/message/send-msg.jsx","components/updata/index.jsx","components/addtodo/view-item.jsx","components/addtodo/edit.jsx","components/addtodo/index.jsx","components/main-layout.jsx","components/back-pic/back-pic.jsx","App.js","serviceWorker.js","index.js"],"names":["ps","topics","Map","newtopic","topic","has","console","warn","set","Array","pub","args","get","sub","callback","push","PubSub","ToolMenu","Layout","Header","Content","Footer","Sider","style","backgroundColor","theme","defaultSelectedKeys","Item","key","HomeOutlined","className","to","MessageOutlined","count","SettingOutlined","InfoCircleOutlined","React","Component","baseTheme","inputFocus","width","SearchInput","state","isFocus","handlefoucus","e","input","value","setState","handleblur","target","handelInput","onKeyup","keyCode","type","ref","this","size","placeholder","onChange","onFocus","onBlur","onKeyUp","padding","borderRadius","color","margin","AdvItem","href","props","url","keyword","DeviceDetector","inited","init","test","navigator","userAgent","__device_type","window","onresize","set_scale","__screen_scale","scale","document","body","clientWidth","advFunctions","baidusearch","deviceDetector","device_type","baidutrans","mobileurl","get_adv","searchtext","advs","f","AdvPanel","display","handelBlur","findAdv","kw","advFuncs","goDefault","open","res","map","item","index","transitionName","transitionEnterTimeout","transitionLeaveTimeout","transitionAppear","transitionAppearTimeout","HttpReq","ajax","req","xmlhttp","XMLHttpRequest","onreadystatechange","readyState","status","dataType","data","JSON","parse","responseText","success","log","error","Error","async","setRequestHeader","send","LinkManager","_links","get_list","localStorage","getItem","setItem","stringify","CssMix","allcss","css","reduce","pre","now","itemContainer","float","LinkItem","align","src","alt","connect","base","dealtheme","theme_name","list","action","newstate","payload","dockOpacity","reducer","combineReducers","themeName","bgBlurSize","links","user","login","bgPic","todo","statecopy","splice","themeManager","themes","__theme","themeIndex","name","changeTheme","length","Manager","urls","picUrls","store","createStore","dispatch","PicsManager","Add","handleClick","onClick","icon","FormOutlined","fontSize","borderWidth","borderColor","borderStyle","flexDirection","justifyContent","hidden","Edit","showEdit","del","array","parseInt","updata","moveUp","i","change","iname","iurl","ArrowUpOutlined","EditOutlined","DeleteOutlined","newList","List","k","LinkPanel","vis","opacity","flexWrap","handleOk","add","message","info","handleCancel","Intitle","Inurl","frequency","linkname","title","visible","onOk","onCancel","textAlign","Timer","timeInterval","hour","min","getTime","d","h","m","setInterval","Date","getMinutes","getHours","clearInterval","Daily","text","handleSuc","ciba","Myajax","light_theme","position","minHeight","whiteSpace","animationDuration","dark_theme","FTodo","class_name","finish","close","theme_mode","panel","right","bottom","CheckOutlined","class","content","Todo","delByIndex","finishItem","findMax","prior","maxi","max","height","Home","xs","sm","md","lg","Title","Typography","Paragraph","About","Text","zIndex","fntStyle","dealClick","AppstoreOutlined","ScheduleOutlined","fileSegTotal","fileSp","createConn","resolve","reject","socket","WebSocket","addEventListener","event","onerror","Server","__state","routers","onCreate","onMsg","msgText","msgObj","head","origin","forEach","__sendFileSeg","sender","onErr","detail","msg","apptype","conn","that","Promise","then","s","onOpen","onClose","catch","err","reConn","sendfile","file","reader","FileReader","readAsDataURL","onload","result","start","end","slice","fileSlice","startTime","nowSeg","total","handle","seq","ack","endTime","startFileTrans","__conn","setTimeout","Sign","componentDidMount","Sever","getData","t","id","uid","uname","getPwd","pwd","login_res","token","setUser","sign","sign_res","footer","closable","Group","prefix","SmileOutlined","Password","upwd","KeyOutlined","UserOutlined","UsrAva","UserPanel","userLogin","showSign","toLogin","closeLogin","upAvatar","refs","fileselect","files","logOut","active","Pic","changePic","changeTo","Index","currentIndex","Bing","dealSuccess","broader","PicSelect","currentI","changeIndex","pics","Setting","blurSize","changeThemeName","onBlurChange","v","onBlurNumChange","userLoginOut","removeItem","delUser","onDockOpacityChange","changeDockOpacity","step","changeblursize","changeBackPic","Message","mode","children","Input","TextArea","AllMsg","_post_his","postit","connState","userUnlogin","editvisible","confirmLoading","creatSuc","fetchDataBack","offset","fetchPostData","para","limit","postData","context","msginput","innerText","msgtitle","senderid","time","errInfo","postDataBack","Modal","openEdit","showMsg","unLogin","contentEditable","gutter","maxWidth","wordBreak","wordWrap","border","sendstyle","recvstyle","MsgBubb","msgBody","cssMix","left","Tri","dir","recv","MsgRow","show","msgCase","overflowY","contaniner","EditPanel","submit","tid","nowPeople","methods","allMsg","filter","nowUser","edit","span","rows","allowClear","wait","Fitem","chatWith","friend","SendMsg","NaN","friends","addfvis","msgHistory","showFriends","addFriend","infid","infname","fs","dealRecvMsg","call","do","people","msgs","handleAdd","friendList","block","UserAddOutlined","Updata","__version","version","View","cost","save","classname","Button","Addtodo","items","li","MainLayout","dealDrawer","placement","path","component","HomePage","AddTodo","render","exact","transition","BackPic","isBlur","lastBlur","blur","unblur","blurBySize","bg","background","App","Boolean","location","hostname","match","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.18556fd9.chunk.js","sourcesContent":["function PubSub(){\r\n\tvar topics = new Map()\r\n\tfunction newtopic(topic){\r\n\t\tif(topics.has(topic)){\r\n\t\t\tconsole.warn('一个相同的topic'+topic+'已经被创建了')\r\n\t\t}else{\r\n\t\t\ttopics.set(topic,new Array())\r\n\t\t}\r\n\t}\r\n\tfunction pub(topic,...args){\r\n\t\tif(topics.has(topic)){\r\n\t\t\tlet func\r\n\t\t\tfor(func of topics.get(topic)){\r\n\t\t\t\tfunc(...args)\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tconsole.warn(\"没有:\"+topic+\"这个topic\")\r\n\t\t}\r\n\t}\r\n\tfunction sub(topic,callback){\r\n\t\tif(topics.has(topic)){\r\n\t\t\ttopics.get(topic).push(callback)\r\n\t\t} else {\r\n\t\t\tnewtopic(topic)\r\n\t\t\tconsole.warn(\"订阅了:\"+topic+\"这个topic,但是它并不存在, 现在它已经创建了. 请注意以防出现错误.\")\r\n\t\t\ttopics.get(topic).push(callback)\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\tnewtopic,\r\n\t\tpub,\r\n\t\tsub\r\n\t}\r\n}\r\nconst ps = PubSub()\r\nexport default ps","import React from 'react'\r\nimport { Layout, Menu } from 'antd'\r\nimport {Link} from 'react-router-dom'\r\nimport { Badge } from 'antd'\r\nimport {\n  HomeOutlined,\n  InfoCircleOutlined,\n  MessageOutlined,\r\n  SettingOutlined,\r\n  InboxOutlined\n} from '@ant-design/icons';\r\n\r\nconst { Header, Content, Footer, Sider } = Layout\r\nclass ToolMenu extends React.Component{\r\nrender(){\r\n\treturn(\r\n\t\t<Menu style={{backgroundColor:'rgba(255,255,255,0.6)'}} theme=\"light\" defaultSelectedKeys={['1']}>\r\n\t\t\t\r\n\t\t\t\t<Menu.Item key=\"1\">\r\n\t\t\t\t\t<HomeOutlined/>\r\n\t\t\t\t\t<Link className=\"nav-text\" to='/home'>主页</Link>\r\n\t\t\t\t\t\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\r\n\t\t\t\t<Menu.Item key=\"2\">\r\n\t\t\t\t  <MessageOutlined />\r\n\t\t\t\t  <Badge count={0}>\r\n\t\t\t\t  <Link className=\"nav-text\" to='/message'>消息</Link></Badge>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t\r\n\t\t\t\t<Menu.Item key=\"3\">\r\n\t\t\t\t <SettingOutlined />\r\n\t\t\t\t  <Link className=\"nav-text\" to='/setting'>设置</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t\r\n\t\t\t\t<Menu.Item key=\"4\">\r\n\t\t\t\t <InfoCircleOutlined />\r\n\t\t\t\t  <Link className=\"nav-text\" to='/about'>关于</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\r\n\t\t</Menu>\r\n\t)}\r\n}\r\nexport default ToolMenu","import React from 'react'\r\n\r\nimport PubSub from '../../lib/pub-sub'\r\nimport './css/style.css'\r\n\r\nlet baseTheme={\r\n\tinputFocus:{\r\n\t\twidth:'99%'\r\n\t}\r\n}\r\n\r\nexport default class SearchInput extends React.Component{\r\n\tstate={\r\n\t\tisFocus:false\r\n\t}\r\n    componentDidMount(){\r\n        PubSub.newtopic('input-focus')\r\n        PubSub.newtopic('input-blur')\r\n\t\tPubSub.newtopic('input-inputing')\r\n\t\tPubSub.newtopic('input-go')//回车键按下\r\n    }\r\n    handlefoucus = (e)=>{\r\n\t\tif(this.input.value){\r\n\t\t\tthis.setState({isFocus:true})\r\n\t\t\tPubSub.pub('input-focus')\r\n\t\t} else {\r\n\t\t\tPubSub.pub('input-blur')\r\n\t\t\tthis.setState({isFocus:false})\r\n\t\t}\r\n    }\r\n    handleblur = (e)=>{\r\n\t\tif(e.target.value == ''){\r\n\t\t\tPubSub.pub('input-blur')\r\n\t\t\tthis.setState({isFocus:false})\r\n\t\t}\r\n    }\r\n\thandelInput = (e) =>{\r\n\t\tif(e.target.value != ''){\r\n\t\t\tthis.setState({isFocus:true})\r\n\t\t\tPubSub.pub('input-inputing',e.target.value)\r\n\t\t} else {\r\n\t\t\tPubSub.pub('input-blur')\r\n\t\t\tthis.setState({isFocus:false})\r\n\t\t}\r\n\t}\r\n\tonKeyup=(e)=>{\r\n\t\tif(e.keyCode === 13) {\r\n\t\t     PubSub.pub('input-go')\r\n\t\t}\r\n\t}\r\n\t\r\n    render(){\r\n        return (\r\n            <input type=\"text\" \r\n\t\t\tref={input=>this.input = input}\r\n\t\t\tstyle={this.state.isFocus?baseTheme.inputFocus:{width:\"70%\"}} \r\n\t\t\tsize='20' className='search_input' placeholder='search' \r\n\t\t\tonChange={this.handelInput} \r\n\t\t\tonFocus={this.handlefoucus} \r\n\t\t\tonBlur={this.handleblur}\r\n\t\t\tonKeyUp={this.onKeyup}\r\n\t\t\t/>\r\n        )\r\n    }\r\n}\r\n\r\n ","import React from 'react'\r\nlet theme = {\r\n\tbackgroundColor:'rgba(255,255,255,0.5)',\r\n\tpadding:'5px',\r\n\tborderRadius:'5px',\r\n\tcolor:'#000',\r\n\tmargin:'5px'\r\n}\r\n\r\nclass AdvItem extends React.Component{\r\n\t\r\n    render(){\r\n        return(\r\n\t\t\t<a href={this.props.url} target='_blank'>\r\n\t\t\t<div className='animated flipInX adv_item' style={theme}>\r\n\t\t\t\t{this.props.type}:<br/>{this.props.keyword}</div>\r\n\t\t\t</a>\r\n    )}\r\n}\r\nexport default AdvItem","import PubSub from './pub-sub'\r\n\r\nconst DeviceDetector = {\r\n    inited:false,\r\n\tinit(){\r\n        if(!this.inited){\r\n            if (/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)){\r\n                        //移动端\r\n                this.__device_type = 'phone'\r\n            } else {\r\n                this.__device_type = 'pc'\r\n            }\r\n            PubSub.newtopic('screen-scale-change')\r\n            window.onresize = function(){\r\n                DeviceDetector.set_scale()\r\n            }\r\n            this.set_scale()\r\n            this.inited = true\r\n        }\r\n\t},\r\n\t__screen_scale:'',\r\n\t__device_type:'pc',\r\n\tget device_type(){\r\n\t\treturn this.__device_type\r\n\t},\r\n\tget screen_scale(){\r\n\t\treturn this.__screen_scale\r\n\t},\r\n\tset_scale(){\r\n        let scale = this.__screen_scale\r\n\t\tif(document.body.clientWidth < 450)\r\n\t\t\tthis.__screen_scale = 'small'\r\n\t\telse if(document.body.clientWidth < 900)\r\n\t\t\tthis.__screen_scale = 'middle'\r\n\t\telse\r\n            this.__screen_scale = 'large'\r\n\r\n        if(scale != this.__screen_scale)\r\n            PubSub.pub('screen-scale-change',this.__screen_scale)\r\n        \r\n\t}\r\n}\r\nexport default DeviceDetector","import deviceDetector from '../../../lib/device-detector.js'\r\n\r\nconst advFunctions = {\r\n\tbaidusearch(keyword){\r\n\t\tlet url = \"https://www.baidu.com/baidu?wd=\"\r\n\t\tlet mobileurl = \"https://m.baidu.com/s?word=\"\r\n\t\tif(deviceDetector.device_type == 'pc'){\r\n\t\t\turl = url+keyword\r\n\t\t} else {\r\n\t\t\turl = mobileurl+keyword\r\n\t\t}\r\n\t\treturn {\r\n\t\t\ttype:'百度(默认)',\r\n\t\t\turl:url\r\n\t\t}\r\n\t},\r\n\tbaidutrans(keyword){\r\n\t\tlet url = \"https://fanyi.baidu.com/translate?aldtype=16047&query=&keyfrom=baidu&smartresult=dict&lang=auto2zh#en/zh/\"+keyword\r\n\t\tlet mobileurl = \"https://www.baidu.com/sf_fanyi/?aldtype=38319&tpltype=sigma#zh/en/\"+keyword\r\n\t\tif(deviceDetector.device_type == 'pc'){\r\n\t\t\turl = url\r\n\t\t} else {\r\n\t\t\turl = mobileurl\r\n\t\t}\r\n\t\treturn {\r\n\t\t\ttype:'百度翻译',\r\n\t\t\turl:url\r\n\t\t}\r\n\t},\r\n\tget_adv(searchtext){\r\n\t\tlet fun_list=[this.baidusearch,this.baidutrans]\r\n\t\tlet advs = []\r\n\t\tfor (let f of fun_list){\r\n\t\t\tadvs.push(f(searchtext))\r\n\t\t}\r\n\t\treturn advs\r\n\t}\r\n}\r\n\r\nexport default advFunctions","import React from 'react'\r\nimport CSSTransitionGroup  from 'react-addons-css-transition-group' \r\nimport AdvItem from './adv-item'\r\n\r\nimport PubSub from '../../lib/pub-sub'\r\nimport advFuncs from './src/adv-funcs'\r\nimport './css/style.css'\r\nlet theme = {\r\n\tbackgroundColor:'rgba(255,255,255,0.5)',\r\n\tpadding:'5px',\r\n\tborderRadius:'5px',\r\n\tmarginTop:'5px',\r\n\tdisplay:'none'\r\n}\r\nclass AdvPanel extends React.Component{\r\n\tstate = {\r\n\t\tkeyword:'',\r\n\t\tdisplay:false,\r\n\t\tadvs:null\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tPubSub.sub('input-inputing',this.handelInput)\r\n\t\tPubSub.sub('input-blur',this.handelBlur)\r\n\t\tPubSub.sub('input-go',this.goDefault)\r\n\t}\r\n\thandelBlur=()=>{\r\n\t\tthis.setState({display:false})\r\n\t}\r\n\thandelInput=(keyword)=>{\r\n\t\tif(keyword){\r\n\t\t\tthis.findAdv(keyword)\r\n\t\t\tthis.setState({keyword,display:true})\r\n\t\t} else {\r\n\t\t\tthis.setState({display:false})\r\n\t\t}\r\n\t}\r\n\tfindAdv=(kw)=>{\r\n\t\tlet advs = advFuncs.get_adv(kw)\r\n\t\tthis.setState({advs:advs})\r\n\t}\r\n\tgoDefault=()=>{\r\n\t\twindow.open(this.state.advs[0].url,'_blank')\r\n\t}\r\n\trender(){\r\n\t\tlet res = []\r\n\t\tif(this.state.advs){\r\n\t\t\tres = this.state.advs.map((item,index)=>{\r\n\t\t\t\treturn ( <AdvItem url={item.url} type={item.type} keyword={this.state.keyword} key={'adv'+index}/>)\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(!this.state.display)\r\n\t\t\tres = []\r\n        return(\r\n\t\t\t<div style={this.state.display?{display:'block'}:{display:'none'}} className=\"adv_panel\" key='showpanel'>\r\n\t\t\t\t<CSSTransitionGroup\r\n\t\t\t\t\ttransitionName=\"advpanel\"\r\n\t\t\t\t    transitionEnterTimeout={500}\r\n\t\t\t\t    transitionLeaveTimeout={300}\r\n\t\t\t\t    transitionAppear={true}\r\n\t\t\t\t    transitionAppearTimeout={500}\r\n\t\t\t\t>\r\n\t\t\t\t\t{res}\r\n\t\t\t\t</CSSTransitionGroup>\r\n\t\t\t</div>\r\n\t\t)\r\n    }\r\n}\r\nexport default AdvPanel","const HttpReq = {\r\n\tajax(req){\r\n\t\tlet xmlhttp = new XMLHttpRequest();\r\n\t\txmlhttp.onreadystatechange=function(){\r\n\t\t    if(xmlhttp.readyState==4 && xmlhttp.status==200)\r\n\t\t    {\r\n\t\t\t\tif(req.dataType == 'json'){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet data = JSON.parse(xmlhttp.responseText)\r\n\t\t\t\t\t\treq.success(data) \r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(e){\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t    } \r\n\t\t\telse if(xmlhttp.status >= 400){\r\n\t\t\t\tif(req.error)\r\n\t\t\t\t\treq.error(\"error:\"+xmlhttp.status)\r\n\t\t\t\telse \r\n\t\t\t\t\tthrow new Error(xmlhttp.status)\r\n\t\t\t}\r\n\t\t}\r\n\t\txmlhttp.open(req.type,req.url,req.async)\r\n\t\t//先open才能进行下一步设置请求头\r\n\t\tif(req.dataType == 'json')\r\n\t\t\txmlhttp.setRequestHeader(\"Accept\" ,\"application/json, text/javascript, */*; q=0.01\")\r\n\t\txmlhttp.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\")\r\n\t\t\r\n\t\tif(req.type == 'POST')\r\n\t\t\txmlhttp.send(req.data)\r\n\t\telse\r\n\t\t\txmlhttp.send()\r\n\t}\r\n}\r\nexport default HttpReq","import HttpReq from './HttpReq.js'\r\n\r\nconst LinkManager = {\r\n\t_links:[],\r\n\tinit(){\r\n\t\tthis.get_list()\r\n\t\t//console.log(this.links)\r\n\t},\r\n\tget_list(){\r\n\t\tlet data = null\r\n\t\tif(data = window.localStorage.getItem('linkList')){\r\n\t\t\tthis._links = JSON.parse(data)\r\n\t\t} else {\r\n\t\t\tlocalStorage.setItem('linkList',JSON.stringify([]))\r\n\t\t\t// HttpReq.ajax({\r\n\t\t\t// \turl: \"http://localhost/ftp/applist.json\", // 目标资源\r\n\t\t\t// \tasync:false, //默认是true，即为异步方式\r\n\t\t\t// \tdataType: \"json\", // 服务器响应的数据类型\r\n\t\t\t// \ttype: \"GET\", // 请求方式\r\n\t\t\t// \tsuccess:(data)=>{\r\n\t\t\t// \t\tthis._links = data\r\n\t\t\t// \t\twindow.localStorage.setItem('linkList',JSON.stringify(data))\r\n\t\t\t// \t},\r\n\t\t\t// \terror(e){\r\n\t\t\t// \t\tconsole.log(e)\r\n\t\t\t// \t}\r\n\t\t\t// })\r\n\t\t}\r\n\t},\r\n\tget links(){\r\n\t\treturn this._links\r\n\t}\r\n}\r\n\r\nexport default LinkManager","export default function CssMix(...allcss){\r\n\t\t\tlet css = allcss.reduce((pre,now)=>{\r\n\t\t\t\tfor(let key in now){\r\n\t\t\t\t\tpre[key] = now[key]\r\n\t\t\t\t}\r\n\t\t\t\treturn pre\r\n\t\t\t},{})\r\n\t\t\treturn css\r\n\t\t}","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Avatar,Popover,Button} from 'antd'\r\n\r\nimport cssMix from '../../../lib/css-mix'\r\nlet baseTheme = {\r\n\titemContainer:{\r\n\t\tfloat:'left'\r\n\t}\r\n}\r\n\r\nclass LinkItem extends React.Component{\r\n\t\r\n    render(){\r\n\t\tlet content = (\r\n\t\t\t<Button>{'del'+this.props.index}</Button>\r\n\t\t)\t\r\n\t\t// <div>\r\n\t\t// \t{this.props.linkname}\r\n\t\t// </div>\r\n        return(\r\n\t\t\t<a href={this.props.url} style={{color:this.props.theme.color}}>\r\n\t\t\t\t<div style={baseTheme.itemContainer}>\r\n\t\t\t\t\t<div align='center'>\r\n\t\t\t\t\t\t<Avatar src={this.props.url+'/favicon.ico'} size={50} alt={'?'}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</a>\r\n    )}\r\n}\r\nfunction ststetoprops(state){\r\n\treturn{\r\n\t\ttheme:state.theme.base\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tststetoprops\r\n)(LinkItem)\r\n","function dealtheme(state = {},action){\r\n\tlet newstate = {}\r\n\tswitch (action.type)\r\n\t{\r\n\t\tcase 'changetheme' :\r\n\t\t\tnewstate = action.payload\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tnewstate = state\r\n\t\t\tbreak\r\n\t\t\r\n\t}\r\n\treturn newstate\r\n}\r\n\r\nexport default dealtheme","let theme_name\r\nif(theme_name = localStorage.getItem('theme_mode')){\r\n\t\r\n} else {\r\n\ttheme_name = 'light'\r\n\tlocalStorage.setItem('theme_mode',theme_name)\r\n}\r\n\r\nexport default function themename (state = theme_name,action){\r\n    let newstate = {}\r\n    switch (action.type)\r\n    {\r\n        case  'changethemename':\r\n\t\t\tif(state != action.payload)\r\n\t\t\t\tlocalStorage.setItem('theme_mode',action.payload)\r\n           newstate = action.payload\r\n           break\r\n        default :\r\n           newstate = state\r\n           break\r\n   }\r\n    return newstate\r\n}","let list\r\nif(list = localStorage.getItem('app_todo')){\r\n\tlist = JSON.parse(list)\r\n} else {\r\n\tlist = new Array()\r\n\tlocalStorage.setItem('app_todo',JSON.stringify(list))\r\n}\r\n\r\nexport default function todo (state = {index:-1,list},action){\r\n\tlet statecopy = JSON.parse(JSON.stringify(state)) //不要直接操作state\r\n    let newstate = null\r\n    switch (action.type)\r\n    {\r\n        case  'changetodoindex':\r\n            statecopy.index = action.payload.index\r\n\t\t    newstate = statecopy\r\n            break\r\n\t\tcase 'addtodoitem':\r\n\t\t\tstatecopy.list.push(action.payload.item)\r\n\t\t\tlocalStorage.setItem('app_todo',JSON.stringify(statecopy.list))\r\n\t\t\tnewstate = statecopy\r\n\t\t\tbreak\r\n\t\tcase 'updatatodolist':\r\n\t\t\tstatecopy.list = action.payload\r\n\t\t\tlocalStorage.setItem('app_todo',JSON.stringify(action.payload))\r\n\t\t\tnewstate = statecopy\r\n\t\t\tbreak\r\n\t\tcase 'inittodoitems' :\r\n\t\t\tstatecopy.list = action.payload //localstorage里面有数据时调用\r\n\t\t\tnewstate = statecopy\r\n\t\t\tbreak\r\n\t\tcase 'deltodobyindex' :\r\n\t\t\tstatecopy.list.splice(action.payload,1)\r\n\t\t\tlocalStorage.setItem('app_todo',JSON.stringify(statecopy.list))\r\n\t\t\tnewstate = statecopy\r\n\t\t\tbreak\r\n        default :\r\n            newstate = statecopy\r\n            break\r\n   }\r\n    return newstate\r\n}","import {combineReducers} from 'redux'\r\n\r\nimport dealBlur from './deal-bg-blur'\r\nimport dealtheme from './deal-theme'\r\nimport dealLinks from './deal-link-list.js'\r\nimport dealUser from './deal-user.js'\r\nimport dealThemeName from './deal-theme-name.js'\r\nimport dealBgPic from './deal-bg-pic.js'\r\nimport dealDock from './deal-dock.js'\r\nimport dealTodo from './deal-todo'\r\n\r\nlet reducer = combineReducers({\r\n\ttheme:dealtheme,\r\n\tthemeName:dealThemeName,\r\n\tbgBlurSize:dealBlur,\r\n\tlinks:dealLinks,\r\n\tuser:dealUser,\r\n\tbgPic:dealBgPic,\r\n\tdockOpacity:dealDock,\r\n\ttodo:dealTodo\r\n})\r\n\r\nexport default reducer","import {createStore} from 'redux'\r\nimport reducer from './reducers/index.js'\r\n\r\nimport themeManager from '../lib/themeManager'\r\nimport LinkManager from '../lib/link-list.js'\r\nimport PicsManager from '../lib/bgPicManager.js'\r\n\r\nthemeManager.init()\r\nLinkManager.init()\r\n\r\nlet dockOpacity\r\nif(dockOpacity = localStorage.getItem('dorkopacity')){\r\n\t\r\n} else {\r\n\tdockOpacity = 0\r\n\tlocalStorage.setItem('dorkopacity',dockOpacity)\r\n}\r\nlet store = createStore(reducer)\r\n\r\n//一些初始化操作\r\nstore.dispatch({type:\"changetheme\",\r\n\tpayload:themeManager.theme\r\n})\r\nstore.dispatch({type:\"changeLinks\",\r\n\tpayload:LinkManager.links\r\n})\r\nstore.dispatch({type:\"changeblursize\",\r\n\tpayload:0\r\n})\r\nstore.dispatch({type:\"bgPicChange\",\r\n\tpayload:PicsManager.init()\r\n})\r\nstore.dispatch({type:\"changeopacitysize\",\r\n\tpayload:dockOpacity\r\n})\r\n\r\nexport default store","export default function dealBlur (state = 0,action){\r\n    let newstate = 0\r\n    switch (action.type)\r\n    {\r\n        case 'changeblursize' :\r\n           newstate = action.payload\r\n           break\r\n        default :\r\n            newstate = state\r\n           break\r\n   }\r\n    return newstate\r\n}","export default function dealLinks (state = [],action){\r\n    let newstate\r\n    switch (action.type)\r\n    {\r\n        case \"changeLinks\" :\r\n           newstate = action.payload\r\n           break\r\n\t\tcase \"addLinks\":\r\n\t\t\tconsole.log(state,action)\r\n\t\t\tstate.push(action.payload)\r\n\t\t\tnewstate = state\r\n\t\t\tbreak\r\n        default :\r\n           newstate = state\r\n           break\r\n   }\r\n    return newstate\r\n}","export default function dealUser (state = {},action){\r\n    let newstate = {}\r\n    switch (action.type)\r\n    {\r\n        case 'userLogin':\r\n\t\t\taction.payload.login = true\r\n            newstate = action.payload\r\n            break\r\n\t\tcase 'userLoginOut':\r\n\t\t\tnewstate.login = false\r\n        default :\r\n            newstate = state\r\n            break\r\n   }\r\n    return newstate\r\n}","export default function bgPic (state = null,action){\r\n    let newstate\r\n    switch (action.type)\r\n    {\r\n        case \"bgPicChange\" :\r\n           newstate = action.payload\r\n           break\r\n\t\tcase \"bgIndexChange\":\r\n\t\t\tstate.index = action.payload\r\n\t\t\tnewstate = state\r\n\t\t\tbreak\r\n        default :\r\n            newstate = state\r\n            break\r\n   }\r\n    return newstate\r\n}","export default function dealdock (state = 0.7,action){\r\n    let newstate\r\n    switch (action.type)\r\n    {\r\n        case  'changeopacitysize':\r\n           newstate = action.payload\r\n\t\t   localStorage.setItem('dorkopacity',newstate)\r\n           break\r\n        default :\r\n            newstate = state\r\n           break\r\n   }\r\n    return newstate\r\n}","const themeManager = {\r\n\tthemes:[],\r\n\t__theme:null,\r\n\tthemeIndex:0,\r\n\tinit(){\r\n\t\tthis.themes = [{\r\n\t\t\tname:'light',\r\n\t\t\tbase:{\r\n\t\t\t\tbackgroundColor:'#fff',\r\n\t\t\t\tcolor:'#000'\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname:'dark',\r\n\t\t\tbase:{\r\n\t\t\t\tbackgroundColor:'#242324',\r\n\t\t\t\tcolor:'#fff'\r\n\t\t\t}\r\n\t\t}]\r\n\t\tthis.__theme = this.themes[this.themeIndex]\r\n\t},\r\n\tget theme(){\r\n\t\treturn this.__theme\r\n\t},\r\n\tchangeTheme(){\r\n\t\tthis.themeIndex = (this.themeIndex+1) % this.themes.length\r\n\t\tthis.__theme = this.themes[this.themeIndex]\r\n\t}\r\n}\r\n\r\nexport default themeManager","const Manager = {\r\n\tinit(){\r\n\t\tlet urls,picUrls\r\n\t\tlet index = 0\r\n\t\tif((urls = localStorage.getItem('bgPics')) && (index = localStorage.getItem('bgPicsIndex'))){\r\n\t\t\tpicUrls = JSON.parse(urls)\r\n\t\t}else{\r\n\t\t\tpicUrls = [\r\n\t\t\t\t{url:'http://pic1.win4000.com/wallpaper/b/55597435bb036.jpg',name:'海'},\r\n\t\t\t\t{url:'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1585416671231&di=2b31d51afd46d03e492b10d8b089ccdd&imgtype=0&src=http%3A%2F%2Fdesk-fd.zol-img.com.cn%2Ft_s960x600c5%2Fg4%2FM02%2F01%2F0C%2FCg-4zFU5saeIEEOaAAcatIe29xYAAXVdAEdnLsABxrM840.jpg',name:'天'},\t\r\n\t\t\t]\r\n\t\t\tlocalStorage.setItem(\"bgPics\",JSON.stringify(picUrls))\r\n\t\t\tlocalStorage.setItem(\"bgPicsIndex\",0)\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tpicUrls,\r\n\t\t\tindex\r\n\t\t}\r\n\t}\r\n}\r\nexport default Manager","import React from 'react'\r\nimport {Avatar,Button,Modal,message,Input} from 'antd'\r\nimport {\n\tFormOutlined\n} from '@ant-design/icons';\r\nimport {connect} from 'react-redux'\r\n\r\nimport store from '../../../store/index'\r\nlet baseTheme = {\r\n\titemContainer:{\r\n\t\tfloat:'left'\r\n\t}\r\n}\r\nclass Add extends React.Component{\r\n\thandleClick=()=>{\r\n\t\tthis.props.open()\r\n\t}\r\n    render(){\r\n        return(\r\n\t\t<div style={baseTheme.itemContainer} onClick = {this.handleClick}>\r\n\t\t\t<div align='center'>\r\n\t\t\t\t<Avatar size={50} icon={<FormOutlined />}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default Add","import React from 'react'\r\nimport {Input,Button} from 'antd'\r\nimport { ArrowUpOutlined,EditOutlined,DeleteOutlined} from '@ant-design/icons'\r\nimport {connect} from 'react-redux'\r\n\r\nlet theme = {\r\n\twidth:'100%',\r\n\tfontSize:'1.2rem',\r\n\tbackgroundColor:'#eee',\r\n\tborderWidth: 1,\r\n\tborderColor: '#ddd',\r\n\tborderStyle: 'solid',\r\n\tdisplay:'flex',\r\n\tflexDirection:\"row\",\r\n\tjustifyContent:\"space-between\"\r\n}\r\n\r\nlet hidden = {\r\n\tdisplay:'none',\r\n}\r\nlet display = {\r\n\tdisplay:'block',\r\n\tborderWidth: 1,\r\n\tborderColor: '#ddd',\r\n\tborderStyle: 'solid',\r\n\tmargin:\"0px 0px 5px 0px\",\r\n}\r\nclass Edit extends React.Component{\r\n\tstate = {\r\n\t\tshowEdit:false,\r\n\t\tname:this.props.item.name,\r\n\t\turl:this.props.item.url,\r\n\t}\r\n\tshowEdit=()=>{\r\n\t\tthis.setState({showEdit:!this.state.showEdit})\r\n\t}\r\n\tdel=()=>{\r\n\t\tlet array = new Array(...this.props.list)\r\n\t\tarray.splice(parseInt(this.props.index),1)\r\n\t\tthis.props.updata(array)\r\n\t}\r\n\tmoveUp=()=>{\r\n\t\tlet i = this.props.index\r\n\t\tlet list = this.props.list\r\n\t\tif(i > 0){\r\n\t\t\tlet pre = list[i-1]\r\n\t\t\tlist[i-1] = list[i]\r\n\t\t\tlist[i] = pre\r\n\t\t\tthis.props.updata(list)\r\n\t\t}\r\n\t}\r\n\tchange=()=>{\r\n\t\tlet i = this.props.index\r\n\t\tlet list = this.props.list\r\n\t\tif(this.iname.state.value || this.iurl.state.value){\r\n\t\t\tif(this.iname.state.value)\r\n\t\t\t\tlist[i].name = this.iname.state.value\r\n\t\t\tif(this.iurl.state.value)\r\n\t\t\t\tlist[i].url = this.iurl.state.value\r\n\t\t\tthis.props.updata(list)\r\n\t\t}\r\n\t}\r\n    render(){\r\n\t\tlet name = this.state.name\r\n\t\tlet url = this.state.url\r\n        return(\r\n\t\t<div>\r\n\t\t\t<div style={theme}>\r\n\t\t\t\t{this.props.item.name}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ArrowUpOutlined onClick={this.moveUp}/>\r\n\t\t\t\t\t<EditOutlined onClick={this.showEdit}/>\r\n\t\t\t\t\t<DeleteOutlined onClick={this.del}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div style={this.state.showEdit?display:hidden}>\r\n\t\t\t\t<Input ref={input => this.iname =input}  placeholder={name} />\r\n\t\t\t\t<Input ref={input => this.iurl =input} placeholder={url} />\r\n\t\t\t\t<Button onClick={this.change}>确定</Button>\r\n\t\t\t\t<Button onClick={this.showEdit}>收起</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n    )}\r\n}\r\n\r\nexport default connect(\r\n\t(state)=>{\r\n\t\treturn {\r\n\t\t\tlist:[...state.links] //立即更新\r\n\t\t}\r\n\t},\r\n\t(dispatch)=>{\r\n\t\t\r\n\t\treturn {updata:(newList)=>{\r\n\t\t\t\t\tlocalStorage.setItem('linkList',JSON.stringify(newList))\r\n\t\t\t\t\tdispatch({type:'changeLinks',payload:newList})\r\n\t\t\t}}\r\n\t}\r\n)(Edit)\r\n ","import React from 'react'\r\n\r\nimport Edit from './link-edit'\r\nclass List extends React.Component{\r\n    render(){\r\n\t\tlet list = this.props.list.map((i,k)=>{\r\n\t\t\treturn <Edit item={i} key={i.name+k} index={k}/>\r\n\t\t})\r\n        return(\r\n\t\t<div>\r\n\t\t\t{list}\r\n\t\t</div>\r\n\t\t\t\r\n\t\t)}\r\n}\r\nexport default List","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Avatar,Button,Modal,message,Input} from 'antd'\r\n\r\nimport LinkManager from '../../../lib/link-list'\r\nimport LinkItem from './link-item'\r\nimport Add from './add'\r\nimport LinkListEdit from './link-list'\r\n \r\nimport './style.css'\r\n\r\n\r\nclass LinkPanel extends React.Component{\r\n\tstate = {\r\n\t\tvis : false,\r\n\t\topacity:this.props.dockOpacity\r\n\t}\r\n\tbaseTheme = {\r\n\t\tdisplay:\"flex\",\r\n\t\tpadding:\"5px\",\r\n\t\tmargin:\"0px 10px\",\r\n\t\tborderRadius:\"15px\",\r\n\t\tflexDirection:\"row\",\r\n\t\tflexWrap:\"wrap\",\r\n\t\tbackgroundColor : \"rgba(255,255,255,\"+this.state.opacity+\")\",\r\n\t\tjustifyContent:\"space-between\"\r\n\t}\r\n\thandleOk=()=>{\r\n\t\tthis.add()\r\n\t\tmessage.info(\"添加完成\")\r\n\t\tthis.setState({\r\n\t\t\tvis:false,\r\n\t\t})\r\n\t}\r\n\thandleCancel=()=>{\r\n\t\tthis.setState({\r\n\t\t\tvis:false,\r\n\t\t})\r\n\t}\r\n\topen=()=>{\r\n\t\tthis.setState({\r\n\t\t\tvis:true,\r\n\t\t\t})\r\n\t}\r\n\tadd=()=>{\r\n\t\tlet name = this.Intitle.state.value\r\n\t\tlet url = this.Inurl.state.value\r\n\t\tlet frequency = 0\r\n\t\tthis.props.links.push({name,url,frequency})\r\n\t\tlocalStorage.setItem('linkList',JSON.stringify(this.props.links))\r\n\t\tthis.handleCancel()\r\n\t}\r\n\r\n    render(){\r\n\t\t//console.log('props',this.props)\r\n\t\tlet links = this.props.links\r\n\t\tlet res = links.map((i,k)=>{\r\n\t\t\treturn <LinkItem url={i.url} linkname={i.name} key={k} index={k}/>\r\n\t\t})\r\n\t\t\r\n        return(\r\n\t\t\t<div style= {this.baseTheme}>\r\n\t\t\t\t{res}\r\n\t\t\t\t<Add open={this.open}/>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle=\"编辑\"\r\n\t\t\t\t\tvisible={this.state.vis}\r\n\t\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t>\r\n\t\t\t\t\t<LinkListEdit list={this.props.links}/>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t添加\r\n\t\t\t\t\t<Input ref={i => this.Intitle=i} placeholder=\"标题\" />\r\n\t\t\t\t\t<Input ref={i => this.Inurl=i} placeholder=\"url\" />\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n    )}\r\n}\r\nfunction ststetoprops(state){\r\n\treturn{\r\n\t\ttheme:state.theme,\r\n\t\tlinks:state.links,\r\n\t\tdockOpacity:state.dockOpacity\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(\r\n\tststetoprops\r\n)(LinkPanel)\r\n","import React from 'react'\r\n\r\nlet baseTheme = {\r\n\tfontSize:'3rem',\r\n\ttextAlign:'center',\r\n\tcolor:\"#fff\"\r\n}\r\nclass Timer extends React.Component{\r\n\tcomponentDidMount(){\r\n\t\tthis.getTime()\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tclearInterval(this.timeInterval)\r\n\t}\r\n\ttimeInterval = null\r\n\tstate = {\r\n\t\thour:0,\r\n\t\tmin:0\r\n\t}\r\n\tgetTime=()=>{\r\n\t\tlet d\r\n\t\tlet h\r\n\t\tlet m\r\n\t\tthis.timeInterval = setInterval(()=>{\r\n\t\t\td = new Date()\r\n\t\t\tm = d.getMinutes()\r\n\t\t\th = d.getHours()\r\n\t\t\tif(this.state.min != m || this.state.hour != h){\r\n\t\t\t\tif(m<10)\r\n\t\t\t\t\tm='0'+m\r\n\t\t\t\tthis.setState({hour:h,min:m})\r\n\t\t\t}\t\t\t\t\r\n\t\t},1000)\r\n\t}\r\n    render(){\r\n        return(\r\n\t\t<div style={baseTheme} >\r\n\t\t{this.state.hour}:{this.state.min}\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default Timer","import React from 'react'\r\nimport Myajax from '../../../lib/HttpReq'\r\n\r\nclass Daily extends React.Component{\r\n\tstate = {\r\n\t\ttext:''\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tMyajax.ajax({\r\n\t\t\ttype:'get',\r\n\t\t\tdataType:'json',\r\n\t\t\tasync:true,\r\n\t\t\turl:'https://api.ooopn.com/ciba/api.php?type=json',\r\n\t\t\tsuccess:this.handleSuc\r\n\t\t})\r\n\t}\r\n\thandleSuc=(data)=>{\r\n\t\tthis.setState({text:data.ciba})\r\n\t}\r\n    render(){\r\n        return(\r\n\t\t<div style={{color:'#fff'}}>\r\n\t\t<br/>\r\n\t\t\t{this.state.text}\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default Daily","import React from 'react'\r\nimport {CheckOutlined} from '@ant-design/icons'\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nlet light_theme = {\r\n\tposition:'relative',\r\n\twidth:'68%',\r\n\tminHeight:'100px',\r\n\tmargin:'5px 10px',\r\n\tpadding:'5px 10px',\r\n\tborderRadius:'0px 15px 15px 15px',\r\n\tcolor:'#000',\r\n\tbackgroundColor:'rgba(255,255,255,0.6)',\r\n\twhiteSpace:'pre-line',\r\n\tanimationDuration: '800ms'\r\n}\r\nlet dark_theme = {\r\n\tposition:'relative',\r\n\twidth:'68%',\r\n\tminHeight:'100px',\r\n\tmargin:'5px 10px',\r\n\tpadding:'5px 10px',\r\n\tborderRadius:'0px 15px 15px 15px',\r\n\tcolor:'#fff',\r\n\tbackgroundColor:'rgba(0,0,0,0.8)',\r\n\twhiteSpace:'pre-line',\r\n\tanimationDuration: '800ms'\r\n}\r\nlet hide = {\r\n\tdisplay:'none'\r\n}\r\n\r\nclass FTodo extends React.Component{\r\n\tstate = {\r\n\t\tclass_name:'',\r\n\t\thidden:false\r\n\t}\r\n\tfinish=()=>{\r\n\t\tthis.props.finish(this.props.index)\r\n\t}\r\n\tclose=()=>{\r\n\t\tthis.setState({hidden:true})\r\n\t}\r\n\tcomponentWillMount(){\r\n\t\tthis.setState({class_name:'animated fadeInLeft'})\r\n\t}\r\n    render(){\r\n\t\tlet style = (this.props.theme_mode == 'light')?light_theme:dark_theme\r\n\t\tif(this.state.hidden){\r\n\t\t\treturn (<div></div>)\r\n\t\t} \r\n\t\tlet panel = (<div style={{position:'absolute',right:'5px',bottom:'5px'}}>\r\n\t\t\t\t\t\t<CheckOutlined onClick={this.finish}/>\r\n\t\t\t\t\t</div>)\r\n\t\tlet close = (<div style={{position:'absolute',right:'5px',bottom:'5px'}}>\r\n\t\t\t\t\t\t<span onClick={this.close}>我知道了</span>\r\n\t\t\t\t\t</div>)\r\n        return(\r\n\t\t<div style={style} class={this.state.class_name} >\r\n\t\t\t\r\n\t\t\t\t{this.props.title}\r\n\t\t\t<br/>\r\n\t\t\t<div style={{whiteSpace:'pre-line'}}>\r\n\t\t\t  {this.props.content}\r\n\t\t\t</div>\r\n\t\t\t{(this.props.index != -1)?panel:close}\r\n\t\t</div>\r\n\t\t\r\n    )}\r\n\tcomponentWillUnmount(){\r\n\t\tthis.setState({class_name:'animated zoomOut'})\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tstate => {\r\n\t\treturn {\r\n\t\t\ttheme_mode:state.themeName\r\n\t\t}\r\n\t}\r\n)(FTodo)\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport FTodo from './firstTodo'\r\nclass Todo extends React.Component{\r\n\tdelByIndex=(i)=>{\r\n\t\t//this.list.splice(i,1)\r\n\t\tthis.props.finishItem(i)\r\n\t}\r\n\tfindMax=()=>{\r\n\t\tif(!this.props.list.length)\r\n\t\t\treturn -1\r\n\t\tlet i=1\r\n\t\tlet m=0\r\n\t\tfor(;i < this.props.list.length;i++){\r\n\t\t\tif(this.props.list[m].prior < this.props.list[i].prior){\r\n\t\t\t\tm = i\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn m\r\n\t}\r\n    render(){\r\n\t\tlet maxi = this.findMax()\r\n\t\tif(maxi == -1)\r\n\t\t\treturn (\r\n\t\t\t\t<FTodo \r\n\t\t\t\ttitle='没有任务了？快去添加吧'\r\n\t\t\t\tindex={maxi} \r\n\t\t\t\tkey={maxi + 'Ftodo'}\r\n\t\t\t\tfinish={this.delByIndex}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\telse {\r\n\t\t\tlet max = this.props.list[maxi]\r\n\t\t\treturn(\r\n\t\t\t\t\t<FTodo content={max.content} \r\n\t\t\t\t\ttitle='以下是为你选出的首要任务：'\r\n\t\t\t\t\tindex={maxi} \r\n\t\t\t\t\tkey={maxi + this.props.list[maxi].prior} \r\n\t\t\t\t\tfinish={this.delByIndex}/>\r\n\t\t\t)}\r\n\t\t}\r\n        \r\n}\r\nexport default connect(\r\n\tstate => {\r\n\t\treturn {\r\n\t\t\tlist:state.todo.list\r\n\t\t}\r\n\t},\r\n\tdispatch => {\r\n\t\treturn {\r\n\t\t\tfinishItem: i => dispatch({type:'deltodobyindex',payload:i})\r\n\t\t}\r\n\t}\r\n)(Todo)","import React from 'react'\r\nimport { Row, Col ,Divider} from 'antd'\r\n\r\nimport SearchInput from '../search-input/search-input'\r\nimport AdvPanel from '../search-input/advPanel'\r\nimport LinkPanel from './src/link-panel'\r\nimport Timer from '../timer/index'\r\nimport Daily from './src/daily-sentence'\r\nimport Todo from '../Todo/index'\r\n \r\nlet base = {\r\n\twidth:\"100vw\",\r\n\theight:\"calc(99vh - 40px)  \",\r\n\tdisplay:\"flex\",\r\n\tflexDirection:\"column\",\r\n\tjustifyContent:\"space-between\"\r\n}\r\n\r\nclass Home extends React.Component{\r\n    render(){\r\n\t\t//\r\n        return(\r\n\t\t\t<div style={base}>\r\n\t\t\t<Row>\r\n\t\t\t    <Col xs={0}  sm={4} md={6} lg={8}>\r\n\t\t\t\t\t\r\n\t\t\t        <Todo/>\r\n\t\t\t    </Col>\r\n\t\t\t    <Col xs={24}  sm={16} md={12} lg={8} align=\"center\">\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Timer/>\r\n\t\t\t\t\t<Daily/><br/>\r\n\t\t\t\t\t<SearchInput/>\r\n\t\t\t\t\t<AdvPanel/>\r\n\t\t\t\t\t\r\n\t\t\t    </Col>\r\n\t\t\t    <Col xs={0}  sm={4} md={6} lg={8}>\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t\t</Row>\r\n\t\t\t<Row>\r\n\t\t\t    <Col xs={0}  sm={4} md={5} >\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t\t    <Col xs={24}  sm={16} md={14}  align=\"center\">\r\n\t\t\t\t\t<LinkPanel/>\r\n\t\t\t    </Col>\r\n\t\t\t    <Col xs={0}  sm={4} md={5}>\r\n\t\t\t      \r\n\t\t\t    </Col>\r\n\t\t\t</Row>\t\r\n\t\t\t</div>\r\n    )}\r\n}\r\nexport default Home","import React from 'react'\r\nimport { Card,Row, Col,Typography, Divider } from 'antd'\r\n\nconst { Title, Paragraph, Text } = Typography;\r\nclass About extends React.Component{\r\nrender(){\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col xs={1}  sm={2} md={3} lg={4}>\r\n\t\t\t\t  \r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={22}  sm={20} md={18} lg={16} align=\"center\">\r\n\t\t\t\t\t<div style={{backgroundColor:'#fff' ,}}>\r\n\t\t\t\t\t\t<Typography>\r\n\t\t\t\t\t\t    <Title>简介</Title>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t    <Paragraph>\r\n\t\t\t\t\t\t    这个网页旨在提供简洁的浏览器主页. , 伴随着网速的提升,除了主页,未来还将提供一系列的扩展(包括在线游戏).\r\n\t\t\t\t\t\t\t这是一个免费的项目, 目前由我一个人开发.\r\n\t\t\t\t\t\t    </Paragraph>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<Title>联系我</Title>\r\n\t\t\t\t\t\t\t<Paragraph>\r\n\t\t\t\t\t\t\t\t如果你有意见和建议,欢迎发送邮件至:\r\n\t\t\t\t\t\t\t\tulan420@qq.com\r\n\t\t\t\t\t\t\t</Paragraph>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={1}  sm={2} md={3} lg={4}>\r\n\t\t\t\t  \r\n\t\t\t\t</Col>\r\n\t\t\t\r\n\t\t\t</Row>\r\n\t\t\r\n\t\t</div>\r\n\t)}\r\n}\r\nexport default About","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {\n\tAppstoreOutlined,\r\n\tScheduleOutlined\n} from '@ant-design/icons';\r\n\r\nimport PubSub from '../../lib/pub-sub'\r\n\r\nlet style = {\r\n\twidth:'100vw',\r\n\theight:'35px',\r\n\tbackgroundColor:'rgba(0,0,0,0)',\r\n\tposition:'absolute',\r\n\tzIndex:'100'\r\n}\r\nlet fntStyle = {\r\n\tcolor:'#fff',\r\n\tfontSize:\"1.7rem\"\r\n}\r\nclass Header extends React.Component{\r\n\tcomponentDidMount(){\r\n\t\tPubSub.newtopic('header-menubtn-clicked')\r\n\t}\r\n\tdealClick=()=>{\r\n\t\tPubSub.pub('header-menubtn-clicked')\r\n\t}\r\n\trender(){\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<div style={style}>\r\n\t\t\t\t<AppstoreOutlined style={fntStyle} onClick={this.dealClick}/>\r\n\t\t\t\t\r\n\t\t\t\t<Link to='/AddTodo'>\r\n\t\t\t\t\t<ScheduleOutlined style={fntStyle}/>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t)}\r\n}\r\nexport default Header","function sleep(n) {\r\n\tlet start = new Date().getTime();\r\n\twhile (true) {\r\n\t\tif (new Date().getTime() - start > n) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet fileSp = new Array()\r\nlet fileSegTotal\r\nfunction createConn(resolve,reject){\r\n\tlet socket = new WebSocket('ws://localhost:8080')\r\n\tsocket.addEventListener('open', function (event) {\r\n\t\tresolve(socket)\r\n\t})\r\n\tsocket.onerror = function(){\r\n\t\treject()\r\n\t}\r\n}\r\n\r\n\r\nfunction fileSlice(file){\r\n\tfileSp = []\n\tlet start = 0\n\tlet end = start + 3072\n\tfor(;end<file.length;start=end,end+= 3072){\n\t\t//console.log() \n\t\tfileSp.push(file.slice(start,end))\n\t}\n\tfileSp.push(file.slice(start))\n\tconsole.log('文件段数：',fileSp.length)\n\tfileSegTotal = fileSp.length\n}\r\n\r\nfunction startFileTrans(){\r\n\tlet nowSeg = 0\r\n\tlet startTime\r\n\tfunction sendfileSeg(res = null){\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'__wscli@file__',\r\n\t\t\t\ttype:'__@fileUpload__',\r\n\t\t\t\ttotal:fileSegTotal,\r\n\t\t\t\thandle:'handleAvatar'\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(nowSeg == 0){       //如果当前序列为0, 执行下面的语句\r\n\t\t\treq.head.seq = 0   //设置请求头序列为0\r\n\t\t\tstartTime = new Date().getTime() //记录开始传输时的时间\r\n\t\t\tServer.send(req)                 //发送请求\r\n\t\t\tnowSeg++                         //及时修改,否则第一次收到服务器消息时又会发送一次\r\n\t\t}\r\n\t\t/*\r\n\t\t\t发送后, 若当前序列仍然为0, 收到消息后,上面的语句又会发送一次\r\n\t\t*/\r\n\t\tif(res){\r\n\t\t\tif( res.head.ack <= res.head.total) {\r\n\t\t\tnowSeg = res.head.ack\r\n\t\t\treq.head.seq = nowSeg\r\n\t\t\treq.data = fileSp[nowSeg-1]\r\n\t\t\t//sleep(3000)\r\n\t\t\t//console.log('进度:'+(req.head.seq-1)/res.head.total)\r\n\t\t\tServer.send(req)\r\n\t\t\t} else {\r\n\t\t\t\tlet endTime = new Date().getTime()\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('传输完成,平均速度(KB/s)',(2.304 * res.head.total)/(endTime-startTime)*1000)\r\n\t\t\t}\r\n\t\t}\t\t\t\t\t\t\r\n\t}\r\n\treturn sendfileSeg\r\n}\r\n\r\nconst Server = {\r\n\t__state:'close',\r\n\tsocket:null,\r\n\trouters:new Map(),\r\n\tonCreate:null,\r\n\tonMsg(msgText){\r\n\t\t//console.log('收到',msgText)\r\n\t\tlet msgObj = JSON.parse(msgText)\r\n\t\tswitch (msgObj.head.origin){\r\n\t\t\tcase '__wscli@all__':\r\n\t\t\t\tthis.routers.forEach(i => {\r\n\t\t\t\tif(i.onMsg)\r\n\t\t\t\t\ti.onMsg(msgText)\r\n\t\t\t\t})\r\n\t\t\t\tbreak\r\n\t\t\tcase '__wscli@file__':\r\n\t\t\t\tthis.__sendFileSeg(msgObj)\r\n\t\t\t\tbreak\r\n\t\t\tdefault:\r\n\t\t\t\tlet sender = this.routers.get(msgObj.head.origin)\r\n\t\t\t\tif(sender[msgObj.head.callback])\r\n\t\t\t\t\tsender[msgObj.head.callback](msgText)\r\n\t\t\t\telse\r\n\t\t\t\t\tthrow new Error('对象上没有定义:' + msgObj.head.callback+'这个函数')\r\n\t\t}\r\n\t},\r\n\tonErr(detail='',origin='__wscli@all__'){\r\n\t\tlet msg = {\r\n\t\t\thead:{\r\n\t\t\t\torigin,\r\n\t\t\t\tstate:'error',\r\n\t\t\t},\r\n\t\t\tdata:'错误:'+detail,\r\n\t\t}\r\n\t\tthis.onMsg(JSON.stringify(msg))\r\n\t},\r\n\tinit(apptype,sender){\r\n\t\tthis.routers.set(apptype,sender)\r\n\t\tif(this.__state == 'close')\r\n\t\t\tthis.conn()\r\n\t\telse {\r\n\t\t\tif(this.onCreate)\r\n\t\t\t\tthis.onCreate()\r\n\t\t}\r\n\t},\r\n\tconn(){\r\n\t\tlet that = Server\r\n\t\tnew Promise(createConn).then(s => {\r\n\t\t\tthat.onOpen() \r\n\t\t\tthat.socket = s\r\n\t\t\tthat.socket.addEventListener('message', function (event) {\r\n\t\t\t\tthat.onMsg(event.data)\r\n\t\t\t})\r\n\t\t\tthat.socket.addEventListener('close', function (event) {\r\n\t\t\t\tthat.onClose()\r\n\t\t\t})\r\n\t\t\tif(that.onCreate)\r\n\t\t\t\tthat.onCreate()\r\n\t\t}).catch(err => {\r\n\t\t\t\tthat.reConn()\r\n\t\t\t\tthat.onErr('与服务器建立链接失败, 将尝试重新连接.')\r\n\t\t})\r\n\t},\r\n\tsend(text){\r\n\t\tif(this.__state != 'close'){\r\n\t\t\tif(typeof text != 'string')\r\n\t\t\t\ttext = JSON.stringify(text)\r\n\t\t\tthis.socket.send(text)\r\n\t\t\t//console.log('发送',text)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.onErr('发送失败, 与服务器的链接已断开.')\r\n\t\t}\r\n\t},\r\n\tsendfile(file){\r\n\t\tlet reader = new FileReader()\r\n\t\treader.readAsDataURL(file); \r\n\t\treader.onload=function(e){ \r\n\t\t\tconsole.log(this.result.length)\r\n\t\t\tfileSlice(this.result)\r\n\t\t\tServer.__sendFileSeg = startFileTrans()\r\n\t\t\tServer.__sendFileSeg()\r\n\t\t}\r\n\t},\r\n\tonOpen(){\r\n\t\tthis.__state = 'conn'\r\n\t},\r\n\tonClose(){\r\n\t\tthis.__conn = 'close'\r\n\t\tlet msg = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'__wscli@all__',\r\n\t\t\t\tstate:'error',\r\n\t\t\t},\r\n\t\t\tdata:'错误:与服务器的连接已中断,将尝试重新连接',\r\n\t\t}\r\n\t\tthis.onMsg(JSON.stringify(msg))\r\n\t\tthis.reConn()\r\n\t},\r\n\treConn(){\r\n\t\tif(this.__conn == 'close'){\r\n\t\t\tthis.routers.forEach(i => {\r\n\t\t\t\tif(i.onClose)i.onClose()\r\n\t\t\t})\r\n\t\t\tsetTimeout(this.conn,3000)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default Server","import React from 'react'\r\nimport {Input,Button,Modal,message } from 'antd'\r\nimport {UserOutlined,KeyOutlined,SmileOutlined } from '@ant-design/icons'\r\nimport {connect} from 'react-redux'\r\n\r\nimport store from '../../store/index'\r\nimport Sever from '../../lib/ws-cli'\r\nclass Sign extends React.Component{\r\n\tstate = {\r\n\t\tdisplay:false\r\n\t}\r\n\tdata = {}\r\n\tcomponentDidMount=()=>{\r\n\t\tSever.init('Sign',this)\r\n\t}\r\n\tgetData=(t)=>{\r\n\t\tthis.data.id = this.uid.state.value\r\n\t\tthis.data.name = this.uname.state.value\r\n\t\t\r\n\t}\r\n\tgetPwd=(e)=>{\r\n\t\tthis.data.pwd = e.target.value\r\n\t}\r\n\tlogin=()=>{\r\n\t\tthis.getData()\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'Sign',\r\n\t\t\t\ttype:'login',\r\n\t\t\t\tcallback:'login_res'\r\n\t\t\t},\r\n\t\t\tdata:this.data\r\n\t\t}\r\n\t\tSever.send(req)\r\n\t}\r\n\tlogin_res=(msg)=>{\r\n\t\tmsg = JSON.parse(msg)\r\n\t\tif(msg.head.state == 'error')\r\n\t\t\tmessage.error(msg.data)\r\n\t\telse {\r\n\t\t\tmessage.success('登录成功啦骚年！')\r\n\t\t\twindow.localStorage.setItem('user',JSON.stringify(msg.data))\r\n\t\t\twindow.localStorage.setItem('token',msg.token)\r\n\t\t\tlet user = msg.data\r\n\t\t\tuser.login = true\r\n\t\t\tthis.props.setUser(user)\r\n\t\t\tthis.props.close()\r\n\t\t}\r\n\t}\r\n\t\r\n\tsign=()=>{\r\n\t\tthis.getData()\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'Sign',\r\n\t\t\t\ttype:'create_account',\r\n\t\t\t\tcallback:'sign_res'\r\n\t\t\t},\r\n\t\t\tdata:this.data\r\n\t\t}\r\n\t\tSever.send(req)\r\n\t}\r\n\tsign_res=(msg)=>{\r\n\t\tmsg = JSON.parse(msg)\r\n\t\tif(msg.head.state == 'error')\r\n\t\t\tmessage.error(msg.data)\r\n\t\telse {\r\n\t\t\tmessage.success(msg.data)\r\n\t\t}\r\n\t}\r\n    render(){\r\n\t\t\r\n        return(\r\n\t\t\t<Modal\r\n\t\t\t\tvisible={this.props.visible?true:false}\r\n\t\t\t\tfooter={null}\r\n\t\t\t\tclosable={false}\r\n\t\t\t>\r\n\t\t\t\t<p>你还没有登录, 赶快登陆或注册一个账号吧!</p>\r\n\t\t\t\t<Input.Group>\r\n\t\t\t\t\t<Input ref={i=>this.uid=i} type=\"number\" placeholder=\"输入id\" prefix={<SmileOutlined />}/>\r\n\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t<Input.Password onChange={t => this.getPwd(t)} ref={i=> this.upwd=i}  placeholder=\"输入密码\" prefix={<KeyOutlined />} />\r\n\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t<Input ref={i=>this.uname = i} placeholder=\"输入昵称\" prefix={<UserOutlined />} /><br/>\r\n\t\t\t\t</Input.Group>\r\n\t\t\t\t\t<Button type=\"primary\" onClick={this.login}>登录</Button>\r\n\t\t\t\t\t<Button type=\"primary\" onClick={this.sign}>注册</Button>\r\n\t\t\t\t\t<Button onClick={this.props.close}>关闭</Button>\r\n\t\t\t</Modal>\r\n\t\t)}\r\n}\r\n\r\nfunction ststetoprops(state){\r\n\t//将store.state绑定到props,props等于下面这个return的对象\r\n\treturn{\r\n\t\t\r\n\t}\r\n}\r\nfunction dispatchtoprops(){\r\n\t//将dispatch绑定到props,props有下面这个return的对象的key\r\n\treturn {\r\n\t\tsetUser:(user)=>store.dispatch({type:'userLogin',payload:user})\r\n\t}\r\n}\r\nexport default connect(\r\n\tststetoprops,\r\n\tdispatchtoprops\r\n)(Sign)","import React from 'react'\r\nimport { Avatar } from 'antd';\r\n\r\nclass UsrAva extends React.Component{\r\n\trender(){\r\n\t\tlet user,url\r\n\t\tif(user = localStorage.getItem('user')){\r\n\t\t\tuser = JSON.parse(user)\r\n\t\t\turl = \"http://localhost:3500/\"+user.id+\"/avatar.png\"\r\n\t\t\treturn (\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<Avatar src={url} size={60}/> {user.name}\r\n\t\t\t\t</div>\t\r\n\t\t\t)\r\n\t\t}\r\n\t\telse \t\r\n\t\t\treturn (\r\n\t\t\t\t<div >\r\n\t\t\t\t\t<Avatar size={60}/>\r\n\t\t\t\t</div>\t\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nexport default UsrAva","import React from 'react'\r\nimport { Button,Input,Divider,Avatar,message } from 'antd'\r\n\r\nimport Server from '../../lib/ws-cli'\r\nimport Sign from '../sign/index'\r\nimport UsrAva from './avatar'\r\n\r\nlet style = {\r\n\tpadding:'10px',\r\n\ttextAlign:'center'\r\n}\r\nclass UserPanel extends React.Component{\r\n\tstate = {\r\n\t\tuserLogin:false,\r\n\t\tshowSign:false,\r\n\t\tuser:null\r\n\t}\r\n\tcomponentWillMount(){\r\n\t\tlet user\r\n\t\tif( user = localStorage.getItem('user')){\r\n\t\t\tuser = JSON.parse(user)\r\n\t\t\tthis.setState({userLogin:true,user})\r\n\t\t}\r\n\t\t\t\r\n\t\telse \r\n\t\t\tthis.setState({userLogin : false})\r\n\t\t\t\r\n\t\tServer.init('usrpre',this)\r\n\t}\r\n\ttoLogin=()=>{\r\n\t\tthis.setState({showSign:true})\r\n\t}\r\n\tcloseLogin=()=>{\r\n\t\tthis.setState({showSign:false})\r\n\t}\r\n\tupAvatar=()=>{\r\n\t\tlet file = this.refs.fileselect.files[0]\r\n\t\tconsole.log(file.size)\r\n\t\tServer.sendfile(file)\r\n\t}\r\n\tlogOut=()=>{\r\n\t\tthis.setState({\r\n\t\t\tuserLogin:false\r\n\t\t})\r\n\t\tmessage.info(\"你已退出登录！\")\r\n\t\tthis.props.logOut()\r\n\t}\r\n    render(){\r\n\t\tlet id\r\n\t\tif(this.state.user)\r\n\t\t\tid = this.state.user.id\r\n\t\tif(this.state.userLogin){\r\n\t\t\treturn(\r\n\t\t\t\t\t<div style={style}>\r\n\t\t\t\t\t<Avatar size={50} src={\"http://localhost:3500/\"+id+\"/avatar.png\" }/>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t{this.props.user.name}\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Button onClick={this.props.logOut}>退出登录</Button>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Divider />\r\n\t\t\t\t\t设置头像<br/>\r\n\t\t\t\t\t<input type='file' ref='fileselect'/>\r\n\t\t\t\t\t<Button onClick={this.upAvatar}>确定</Button>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn(\r\n\t\t\t\t<div style={style}>\r\n\t\t\t\t<Sign visible={this.state.showSign} close={this.closeLogin}/>\r\n\t\t\t\t\t<UsrAva/>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Button type=\"primary\" onClick={this.toLogin}>去登录</Button>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n    }  \r\n}\r\nexport default UserPanel","import React from 'react'\r\n\r\nlet active={\r\n\twidth:\"100px\",\r\n\tborderWidth: 2,\r\n\tborderColor: '#1890ff',\r\n\tborderStyle: 'solid',\r\n\tfloat:\"left\"\r\n}\r\nlet base = {\r\n\tfloat:\"left\",\r\n\tborderWidth: 1,\r\n\tborderColor: '#eee',\r\n\tborderStyle: 'solid',\r\n\twidth:\"100px\"\r\n}\r\nclass Pic extends React.Component{\r\n\tchangePic=()=>{\r\n\t\t//console.log('change')\r\n\t\tthis.props.changeTo(this.props.Index)\r\n\t}\r\n    render(){\r\n\t\tlet {currentIndex,Index,name,url} = this.props\r\n        return(\r\n\t\t<div style={(currentIndex == Index)?active:base} onClick={this.changePic}>\r\n\t\t\t<img src={url} width=\"100%\"/>\r\n\t\t\t<br/>\r\n\t\t\t{name}\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default Pic","import React from 'react'\r\n\r\nimport Pic from './pic'\r\nimport Myajax from '../../../lib/HttpReq'\r\n\r\nclass Bing extends React.Component{\r\n\tstate = {\r\n\t\turl:''\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tMyajax.ajax({\r\n\t\t\ttype:'get',\r\n\t\t\turl:'https://bing.biturl.top/?resolution=1920&format=json&index=0&mkt=zh-CN',\r\n\t\t\tasync:true,\r\n\t\t\tsuccess:this.dealSuccess\r\n\t\t})\r\n\t}\r\n\tdealSuccess=(res)=>{\r\n\t\tconsole.log()\r\n\t}\r\n\t\r\n    render(){\r\n        return(\r\n\t\t<Pic currentIndex={this.props.currentIndex} changeTo={this.props.changeTo} Index=\"bing\"  name=\"必应壁纸(不要选择)\" url='https://api.dujin.org/bing/1366.php'></Pic>\r\n    )}\r\n}\r\nexport default Bing","import React from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport PubSub from '../../lib/pub-sub'\r\nimport Pic from './component/pic'\r\nimport Bing from './component/Bing'\r\n\r\nlet style = {\r\n\twidth:'90%',\r\n\tbroader:'1px #ccc solid'\r\n}\r\nclass PicSelect extends React.Component{\r\n\tstate = {\r\n\t\tcurrentI : 0\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t    this.setState({\r\n\t    \tcurrentI : this.props.bgPic.index\r\n\t    })\r\n\t\t\r\n\t}\r\n    changeTo=(i)=>{\r\n\t\tthis.setState({\r\n\t\t\tcurrentI : i\r\n\t\t})\r\n\t\tthis.props.changeIndex(i)\r\n\t\tPubSub.pub(\"picindexchange\",i)\r\n\t\tlocalStorage.setItem(\"bgPicsIndex\",i)\r\n\t}\r\n\trender(){\r\n\t\tlet pics = this.props.bgPic.picUrls.map((i,k)=>{\r\n\t\t\treturn (\r\n\t\t\t\t<Pic currentIndex={this.props.bgPic.index} changeTo={this.changeTo} Index={k} key={k} name={i.name} url={i.url}></Pic>\r\n\t\t\t)\r\n\t\t})\r\n        return(\r\n\t\t<div style={style}>\r\n\t\t\t{pics}<Bing currentIndex={this.props.bgPic.index} changeTo={this.changeTo}/>\r\n\t\t</div>\r\n    )}\r\n}\r\nfunction ststetoprops(state){\r\n\treturn{\r\n\t\tbgPic:state.bgPic\r\n\t}\r\n}\r\nfunction dispatchtoprops(dispatch){\r\n\treturn {\r\n\t\tchangeIndex:(i)=>dispatch({type:'bgIndexChange',payload:i}),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tststetoprops,\r\n\tdispatchtoprops\r\n)(PicSelect)","import React from 'react'\r\nimport { Card,Row, Col ,Switch ,Divider,Radio, InputNumber,Slider} from 'antd'\r\nimport {connect} from 'react-redux'\r\n\r\nimport UserPanel from '../user/usr-pre'\r\nimport PubSub from '../../lib/pub-sub'\r\nimport PicSele from './bg'\r\n\r\n\r\nclass Setting extends React.Component{\r\n\tstate={\r\n\t\tvalue:1,\r\n\t}\r\n\tblurSize=0\r\n\tonChange=(e)=>{\r\n\t\tthis.setState({\r\n\t\t      value: e.target.value\r\n\t\t})\r\n\t\tif(e.target.value == 1){\r\n\t\t\tthis.props.changeThemeName('light')\r\n\t\t} else {\r\n\t\t\tthis.props.changeThemeName('dark')\r\n\t\t}\r\n\t}\r\n\tonBlurChange=(v)=>{\r\n\t\tPubSub.pub('change-blur-size',v)\r\n\t\tthis.blurSize = v\r\n\t}\t\r\n\tonBlurNumChange=(v)=>{\r\n\t\tPubSub.pub('change-blur-size',v)\r\n\t\tthis.blurSize = v\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t    localStorage.setItem('blursize',this.blurSize)\r\n\t}\r\n\tcomponentWillMount(){\r\n\t\t//console.log(this.props.theme_mode)\r\n\t    if(this.props.theme_mode != 'light')\r\n\t\t\tthis.setState({value:2})\r\n\t\telse {\r\n\t\t\tthis.setState({value:1})\r\n\t\t}\r\n\t}\r\n    userLoginOut=()=>{\r\n    \tlocalStorage.removeItem('user')\r\n    \tthis.props.delUser()\r\n    }\r\n\tonDockOpacityChange=(v)=>{\r\n\t\tthis.props.changeDockOpacity(v)\r\n\t}\r\n\t\r\n\trender(){\r\n        return(\r\n\t\t<div>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col xs={0}  sm={4} md={6} lg={8}>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={24}  sm={16} md={18} lg={8} >\r\n\t\t\t\t\t<Card title=\"用户\">\r\n\t\t\t\t\t\t<UserPanel user={this.props.user} logOut={this.userLoginOut}></UserPanel>\r\n\t\t\t\t\t\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Card title=\"外观\">\r\n\t\t\t\t\t    主题切换(部分完成)\r\n\t\t\t\t\t\t <Radio.Group onChange={this.onChange} value={this.state.value}>\r\n\t\t\t\t\t\t\t<Radio value={1}>白天</Radio>\r\n\t\t\t\t\t\t\t<Radio value={2}>夜晚</Radio>\r\n\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t <Divider />\r\n\t\t\t\t\t\t dock背景透明度\r\n\t\t\t\t\t\t <Slider\r\n\t\t\t\t\t\t \tmin={0}\r\n\t\t\t\t\t\t \tmax={1}\r\n\t\t\t\t\t\t \tonChange={this.onDockOpacityChange}\r\n\t\t\t\t\t\t \tvalue={this.props.dockOpacity}\r\n\t\t\t\t\t\t\tstep={0.1}\r\n\t\t\t\t\t\t />\r\n\t\t\t\t\t\t <br/>\r\n\t\t\t\t\t    修改背景\r\n\t\t\t\t\t\t<PicSele />\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t背景模糊\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tmax={25}\r\n\t\t\t\t\t\t\tonChange={this.onBlurChange}\r\n\t\t\t\t\t\t\tvalue={typeof this.props.blurSize === 'number' ? this.props.blurSize : 0}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\tmax={25}\r\n\t\t\t\t\t\t\tvalue={this.props.blurSize}\r\n\t\t\t\t\t\t\tonChange={this.onBlurNumChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<Card title=\"性能\">\r\n\t\t\t\t\t    减少动画效果以提高流畅度(敬请期待) <Switch></Switch>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={0}  sm={4} md={6} lg={8}>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n    )}\r\n}\r\n\r\nfunction ststetoprops(state){\r\n\treturn{\r\n\t\tuser:{...state.user},\r\n\t\ttheme:{...state.theme},\r\n\t\tblurSize:state.bgBlurSize,\r\n\t\tdockOpacity:state.dockOpacity,\r\n\t\ttheme_mode:state.themeName\r\n\t}\r\n}\r\nfunction dispatchtoprops(dispatch){\r\n\treturn {\r\n\t\tchangeblursize:(v)=>dispatch({type:'changeblursize',payload:v}),\r\n\t\tchangeBackPic:(v)=>dispatch({type:'changeblursize',payload:v}),\r\n\t\tchangeThemeName:(v)=>dispatch({type:'changethemename',payload:v}),\r\n\t\tchangeDockOpacity:(v)=>dispatch({type:'changeopacitysize',payload:v}),\r\n\t\tsetUser:(user)=>dispatch({type:'userLogin',payload:user}),\r\n\t\tdelUser:()=>dispatch({type:'userLoginOut',payload:{}})\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tststetoprops,\r\n\tdispatchtoprops\r\n)(Setting)\r\n//export default Setting","import React from 'react'\r\nimport {Layout, Menu ,Row, Col ,Divider} from 'antd'\r\nimport {Link} from 'react-router-dom'\r\nclass Message extends React.Component{\r\n    render(){\r\n        return(\r\n\t\t<div>\r\n\t\t\t<Menu mode=\"horizontal\" defaultSelectedKeys={['1']}>\r\n\t\t\t\t<Menu.Item key=\"1\">\r\n\t\t\t\t\t<Link to='/message/all'>墙</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\r\n\t\t\t\t<Menu.Item key=\"2\">\r\n\t\t\t\t\t<Link to='/message/send'>私信</Link>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\t\t \r\n\t\t\t<div style={{height:'calc(100vh - 48px)'}}>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default Message","import React from 'react'\r\nimport {Input,Button,Card,Modal,message,Row,Col,Affix,Avatar } from 'antd'\r\n\r\nimport Sign from '../sign/index'\r\nimport Server from '../../lib/ws-cli'\r\n\r\nconst { TextArea } = Input\r\n\r\nlet base = {\r\n\twidth: 300,\r\n\tbackgroundColor:\"#fff\",\r\n\tfloat:\"left\",\r\n\tpadding:\"5px\"\r\n}\r\nclass AllMsg extends React.Component{\r\n\t_post_his=[]\r\n\tstate = {\r\n\t\tpostit:[],\r\n\t\tconnState:300,\r\n\t\tuserUnlogin:true,\r\n\t\teditvisible:false,\r\n\t\tconfirmLoading:false\r\n\t}\r\n\tcomponentWillMount(){\r\n\t\tif(!window.localStorage.getItem(\"user\")){\r\n\t\t\tthis.setState({userUnlogin:true})\r\n\t\t} else {\r\n\t\t\tthis.setState({userUnlogin:false})\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\t//Server.onCreate = this.creatSuc\r\n\t\t//Server.onMsg = this.recv\r\n\t\t\r\n\t\tServer.init('all-msg',this)\r\n\t}\r\n\tonMsg=(msg)=>{\r\n\t\tmsg = JSON.parse(msg)\r\n\t\tif(msg.head.state == 'error')\r\n\t\t\tmessage.error(msg.data)\r\n\t}\r\n\tcreatSuc=()=>{\r\n\t\tthis.setState({connState:200})\r\n\t}\r\n\tfetchDataBack=(msg)=>{\r\n\t\tmsg = JSON.parse(msg)\r\n\t\tif(msg.head.state == 'error')\r\n\t\t{\r\n\t\t\tmessage.error(msg.data)\r\n\t\t} else {\r\n\t\t\tfor(let i of msg.data)\r\n\t\t\t\tthis._post_his.push(i)\r\n\t\t\tthis.setState({postit:this._post_his})\r\n\t\t}\r\n\t}\r\n\toffset = 0\r\n\tfetchPostData=()=>{\r\n\t\tlet token = localStorage.getItem('token')\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\t\tlet msgNum = 2\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'all-msg',\r\n\t\t\t\ttype:'get_postit',\r\n\t\t\t\tcallback:'fetchDataBack'\r\n\t\t\t},\r\n\t\t\tpara:{\r\n\t\t\t\tlimit:msgNum,\r\n\t\t\t\toffset:this.offset,\r\n\t\t\t\tid:user.id,\r\n\t\t\t\ttoken\r\n\t\t\t}\r\n\t\t}\r\n\t\tServer.send(req)\r\n\t\tthis.offset += msgNum\r\n\t}\r\n\tpostData=()=>{\r\n\t\tlet token = localStorage.getItem('token')\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\t\tlet context = this.refs.msginput.innerText\r\n\t\tlet title = this.refs.msgtitle.state.value\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'all-msg',\r\n\t\t\t\ttype:'post_postit',\r\n\t\t\t\tcallback:'postDataBack'\r\n\t\t\t},\r\n\t\t\tdata:{\r\n\t\t\t\tsender:user.name,\r\n\t\t\t\tsenderid:user.id,\r\n\t\t\t\ttitle,\r\n\t\t\t\tcontext,\r\n\t\t\t\ttime:'2020:12:12:20:20'\r\n\t\t\t},\r\n\t\t\tpara:{\r\n\t\t\t\tid:user.id,\r\n\t\t\t\ttoken\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({confirmLoading:true})\r\n\t\tif (!title){\r\n\t\t\tthis.errInfo('您忘记了填写标题,这是不被允许的行为.')\r\n\t\t} else \r\n\t\t\tServer.send(JSON.stringify(req))\r\n\t}\r\n\tpostDataBack=(msg)=>{\r\n\t\tmsg = JSON.parse(msg)\r\n\t\tthis.setState({confirmLoading:false})\r\n\t\tif(msg.head.state == 'error')\r\n\t\t{\r\n\t\t\tmessage.error(msg.data)\r\n\t\t} else {\r\n\t\t\tmessage.success(msg.data)\r\n\t\t\tthis.setState({editvisible:false})\r\n\t\t}\r\n\t\t\r\n\t}\r\n\terrInfo=(text)=>{\r\n\t\tModal.info({\r\n\t\t    title: '警告：',\r\n\t\t    content: (\r\n\t\t      <div>\r\n\t\t         <p>{text}</p>  \r\n\t\t      </div>\r\n\t\t    )\r\n\t\t  })\r\n\t}\r\n\thandleCancel=()=>{\r\n\t\tthis.setState({\r\n\t\t      editvisible: false,\r\n\t\t\t  confirmLoading:false\r\n\t\t})\r\n\t}\r\n\topenEdit=()=>{\r\n\t\tthis.setState({\r\n\t\t      editvisible: true,\r\n\t\t})\r\n\t}\r\n    render(){\r\n\t\tlet showMsg = this.state.postit.map((i,k)=>{\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t<div key={k} style={{display:'inline-block',margin:'5px'}}>\r\n\t\t\t<div style={base} >\r\n\t\t\t\t<Avatar size={30} src={\"http://localhost:3500/\"+i.senderid+\"/avatar.png\"}></Avatar>{i.sender}\r\n\t\t\t\t<h2>\r\n\t\t\t\t\t{i.title}\r\n\t\t\t\t</h2>\r\n\t\t\t\t    <div style={{whiteSpace:'pre-line'}}>{i.context}</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</div>)\r\n\t\t})\r\n        const { editvisible, confirmLoading } = this.state\r\n\t\treturn(\r\n\t\t<div >\r\n\t\t\t<Sign unLogin={this.state.userUnlogin}/>\r\n\t\t\t<Modal\r\n\t\t\t  title=\"随手写\"\r\n\t\t\t  visible={editvisible}\r\n\t\t\t  onOk={this.postData}\r\n\t\t\t  confirmLoading={confirmLoading}\r\n\t\t\t  onCancel={this.handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<Input ref=\"msgtitle\" placeholder=\"输入文章标题\"/>\r\n\t\t\t\t<div ref=\"msginput\" contentEditable=\"true\" style={{minHeight:'3rem',backgroundColor:'#eee'}}></div>\r\n\t\t\t</Modal>\t\t\t\r\n\t\t\t<br/>\r\n\t\t\t<Row gutter={[5, 10]}>\r\n\t\t\t\t<Col xs={24}  sm={24} md={6} lg={5}>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={24}  sm={24} md={14} lg={12}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{showMsg}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button onClick={this.fetchPostData}>更多消息</Button>\r\n\t\t\t\t\t<Button onClick={this.openEdit}>也写一个</Button>\t\t\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col xs={0}  sm={0} md={4} lg={8}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t</Col>\r\n\t\t\t\t\r\n\t\t\t</Row>\r\n\t\t\t\r\n\t\t</div>\r\n    )}\r\n\t\r\n}\r\nexport default AllMsg","import React from 'react'\r\n\r\nimport cssMix from '../../../lib/css-mix'\r\n\r\nlet base = {\r\n\tmaxWidth: '70%',\r\n\tpadding: '10px',\r\n\tcolor:' white',\r\n\twordBreak:'break-all',\r\n\twordWrap:'break-word',\r\n\tbackgroundColor: 'cornflowerblue',\r\n\tborder: '1px rgba(0,0,0,0) solid'\r\n}\r\nlet sendstyle = {\r\n\tborderRadius: '5px 0px 5px 5px'\r\n}\r\nlet recvstyle = {\r\n\tborderRadius: '0px 5px 5px 5px'\r\n}\r\n\r\nclass MsgBubb extends React.Component{\r\n\t\r\n    render(){\r\n\t\tlet msgBody = this.props.msgBody\r\n\t\tlet style=null\r\n\t\tif(msgBody.type == 'send'){\r\n\t\t\tstyle = cssMix(base,sendstyle)\r\n\t\t} else {\r\n\t\t\tstyle = cssMix(base,recvstyle)\r\n\t\t}\r\n        return(\r\n\t\t<div style={style}>\r\n\t\t\t{msgBody.context}\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default MsgBubb","import React from 'react'\r\n\r\nlet left = {\r\n\twidth: '0px',\r\n\theight:'0px',\r\n\tborder: '5px solid',\r\n\tborderColor:'transparent  cornflowerblue transparent transparent'\r\n}\r\nlet right = {\r\n\twidth: '0px',\r\n\theight:' 0px',\r\n\tborder: '5px solid',\r\n\tborderColor:' transparent  transparent transparent cornflowerblue'\r\n}\r\nclass Tri extends React.Component{\r\n    render(){\r\n        return(\r\n\t\t<div style={this.props.dir=='left'?left:right}></div>\r\n    )}\r\n}\r\nexport default Tri","import React from 'react'\r\nimport {Avatar} from 'antd'\r\n\r\nimport MsgBubb from './msg-bubble'\r\nimport Tri from './tri'\r\nlet style = {\r\n\trecv:{\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection:'row',\r\n\t\tjustifyContent:'flex-start',\r\n\t\tmargin:'5px 0px'\r\n\t},\r\n\tsend:{\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection:'row',\r\n\t\tjustifyContent:'flex-end',\r\n\t\tmargin:'5px 0px'\r\n\t}\r\n\t\r\n}\r\nclass MsgRow extends React.Component{\r\n    render(){\r\n\t\tlet msgBody = this.props.msgBody\r\n\t\tlet show = []\r\n\t\tlet url = \"http://localhost:3500/\"+msgBody.id+\"/avatar.png\"\r\n\t\tif(msgBody.type=='recv'){\r\n\t\t\tshow.push(<Avatar src={url} size={30}/>)\r\n\t\t\tshow.push(<Tri dir={'left'}/>)\r\n\t\t}\r\n\t\tshow.push(<MsgBubb msgBody={msgBody}/>)\r\n\t\tif(msgBody.type=='send'){\r\n\t\t\tshow.push(<Tri dir={'right'}/>)\r\n\t\t\tshow.push(<Avatar src={url} size={30}/>)\r\n\t\t}\r\n        return(\r\n\t\t<div style={this.props.msgBody.type=='send'?style.send:style.recv} key={this.props.index}>\r\n\t\t\t{show}\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default MsgRow","import React from 'react'\r\nimport {Button,Input,Row,Col,message} from 'antd'\r\nimport MsgRow from './msg-item'\r\nconst { TextArea } = Input\r\nlet baseTheme = {\r\n\tmsgCase:{\r\n\t\twidth:'100%',\r\n\t\theight:'60vh',\r\n\t\tbackgroundColor:'rgba(255,255,255,0.6)',\r\n\t\toverflowY:'scroll'\r\n\t},\r\n\tcontaniner:{\r\n\t\twidth:'100%',\r\n\t\theight:'100%',\r\n\t\toverflowY:'hidden',\r\n\t\tbackgroundColor:'rgba(255,255,255,0.4)'\r\n\t}\r\n}\r\nclass EditPanel extends React.Component{\r\n\t\r\n\tsubmit=()=>{\r\n\t\tlet text = this.refs.msginput.state.value\r\n\t\tlet tid = this.props.nowPeople.id\r\n\t\tthis.props.methods.send(tid,text)\r\n\t}\r\n    render(){\r\n\t\tlet Msgs = this.props.allMsg.filter(m => (m.id == this.props.nowPeople.id || m.type == 'send'))\r\n\t\tlet showMsg = Msgs.map((i,k)=>{\r\n\t\t\tif(i.type === 'send'){\r\n\t\t\t\ti.id = this.props.nowUser.id\r\n\t\t\t}\r\n\t\t\treturn <MsgRow msgBody={i} key={k} index={k}/>\r\n\t\t})\r\n\t\tlet edit = (\r\n\t\t\t<div style={baseTheme.contaniner} >\r\n\t\t\t\t\t<div style={{backgroundColor:'#fff',fontSize:'1.2rem'}}>{this.props.nowPeople.name}</div>\r\n\t\t\t\t\t<div style={baseTheme.msgCase}>\r\n\t\t\t\t\t\t{showMsg}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t<Button onClick={this.submit}>发送</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t\t<TextArea ref='msginput' rows={2}  allowClear={true} />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t)\r\n\t\tlet wait = (\r\n\t\t\t<div style={{height:'80vh',backgroundColor:'#eee'}}>选择一个好友来聊天</div>\r\n\t\t)\r\n        return(\r\n\t\t\t<div>\r\n\t\t\t\t{this.props.nowPeople.name?edit:wait}\r\n\t\t\t</div>\r\n\t\t\r\n    )}\r\n}\r\nexport default EditPanel","import React from 'react'\r\nimport {Button,Avatar} from 'antd'\r\nimport {UserOutlined} from '@ant-design/icons';\r\n\r\nlet base = {\r\n\tbackgroundColor:\"rgba(255,255,255,0.7)\",\r\n\tpadding:\"2px 5px\",\r\n\tborderWidth: 1,\r\n\tborderColor: '#eee',\r\n\tborderStyle: 'solid',\r\n}\r\nclass Fitem extends React.Component{\r\n\thandleClick=()=>{\r\n\t\tlet methods = this.props.methods\r\n\t\tmethods.chatWith({id:this.props.friend.id,name:this.props.friend.name})\r\n\t}\r\n    render(){\r\n\t\tlet friend = this.props.friend\r\n\t\tlet url = \"http://localhost:3500/\"+friend.id+\"/avatar.png\"\r\n        return(\r\n\t\t<div style={base} onClick={this.handleClick} >\r\n\t\t\t<Avatar src={url} size={30}/> {friend.name}\r\n\t\t\t<p>快来和我聊天吧</p>\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default Fitem","import React from 'react'\r\nimport {Button,Input,Row,Col,message,Modal} from 'antd'\r\nimport {UserAddOutlined} from '@ant-design/icons';\r\n\r\nimport Edit from './src/edit-panel'\r\nimport Server from '../../lib/ws-cli'\r\nimport FriendItem from './src/friend'\r\n\r\nconst { TextArea } = Input\r\n\r\nclass SendMsg extends React.Component{\r\n\tstate={\r\n\t\tconnState:'世界上最远的距离就是没网...',\r\n\t\tuser:null,\r\n\t\ttoken:'',\r\n\t\tallMsg:[],\r\n\t\tnowPeople:{\r\n\t\t\tname:'',\r\n\t\t\tid:NaN\r\n\t\t},\r\n\t\tfriends:[],\r\n\t\taddfvis:false\r\n\t}\r\n\t\r\n\tmsgHistory=[]\r\n\tcomponentDidMount(){\r\n\t\tServer.init('SendMsg',this)\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\t\tif(!user)\r\n\t\t\treturn\r\n\t\tlet token = localStorage.getItem('token')\r\n\t\tthis.setState({user:user,token:token})\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'SendMsg',\r\n\t\t\t\ttype:'chat',\r\n\t\t\t\tcallback:'dealRecvMsg',\r\n\t\t\t\tcall:'connres'\r\n\t\t\t},\r\n\t\t\tpara:{\r\n\t\t\t\tuid:user.id,\r\n\t\t\t\ttoken,\r\n\t\t\t\tdo:'connect'\r\n\t\t\t}\r\n\t\t}\r\n\t\tServer.send(req)\r\n\t\tthis.showFriends()\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'))\r\n\t\tif(!user)\r\n\t\t\treturn\r\n\t\tlet token = localStorage.getItem('token')\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'SendMsg',\r\n\t\t\t\ttype:'chat',\r\n\t\t\t\tcallback:'dealRecvMsg',\r\n\t\t\t\tcall:'connres'\r\n\t\t\t},\r\n\t\t\tpara:{\r\n\t\t\t\tuid:user.id,\r\n\t\t\t\ttoken,\r\n\t\t\t\tdo:'disconnect'\r\n\t\t\t}\r\n\t\t}\r\n\t\tServer.send(req)\r\n\t}\r\n\tshowFriends=()=>{\r\n\t\tlet friends\r\n\t\tif(friends = localStorage.getItem('friends'))\r\n\t\t\tthis.setState({friends:JSON.parse(friends)})\r\n\t\telse {\r\n\t\t\tfriends = [{id:100000,name:'ULAN'}]\r\n\t\t\tlocalStorage.setItem('friends',JSON.stringify(friends))\r\n\t\t\tthis.setState({friends:friends})\r\n\t\t}\r\n\t\t \r\n\t}\r\n\taddFriend=()=>{\r\n\t\tlet f = {\r\n\t\t\tid:this.refs.infid.state.value,\r\n\t\t\tname: this.refs.infname.state.value\r\n\t\t}\r\n\t\tif(f.id && f.name){\r\n\t\t\tlet fs = this.state.friends\r\n\t\t\tfs.push(f)\r\n\t\t\tlocalStorage.setItem('friends',JSON.stringify(fs))\r\n\t\t\tthis.setState({friends:fs})\r\n\t\t} else\r\n\t\t\tmessage.error('请填写完成')\r\n\t\t\r\n\t}\r\n\tdealRecvMsg=(msg)=>{\r\n\t\tmsg = JSON.parse(msg)\r\n\t\tif (msg.head.state == 'success'){\r\n\t\t\tswitch (msg.head.call) {\r\n\t\t\t\tcase 'connres':\r\n\t\t\t\t\tmessage.success(msg.data)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'newmsg' :\r\n\t\t\t\t\tconsole.log(msg.data)\r\n\t\t\t\t\tthis.recv(msg.data)\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmessage.error(msg.data)\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tsend=(tid,text)=>{\r\n\t\ttid = parseInt(tid)\r\n\t\tthis.msgHistory.push({type:'send',context:text})\r\n\t\tthis.setState({allMsg:this.msgHistory})\r\n\t\tlet req = {\r\n\t\t\thead:{\r\n\t\t\t\torigin:'SendMsg',\r\n\t\t\t\ttype:'chat',\r\n\t\t\t\tcallback:'dealRecvMsg',\r\n\t\t\t\tcall:'newmsg'\r\n\t\t\t},\r\n\t\t\tpara:{\r\n\t\t\t\tuid:this.state.user.id,\r\n\t\t\t\ttid,\r\n\t\t\t\ttoken:this.state.token,\r\n\t\t\t\tdo:'send'\r\n\t\t\t},\r\n\t\t\tdata:{\r\n\t\t\t\tsenderid:this.state.user.id,\r\n\t\t\t\tsender:this.state.user.name,\r\n\t\t\t\tcontext:text,\r\n\t\t\t\ttime:'2020:03:19'\r\n\t\t\t}\r\n\t\t}\r\n\t\tServer.send(req)\r\n\t}\r\n\tchatWith=(people)=>{\r\n\t\tthis.setState({nowPeople:people})\r\n\t}\r\n\trecv=(msgs)=>{\r\n\t\tfor(let m of msgs){\r\n\t\t\tthis.msgHistory.push({type:'recv',id:m.senderid,context:m.context})\r\n\t\t}\r\n\t\tthis.setState({allMsg:this.msgHistory})\r\n\t}\r\n    handleCancel=()=>{\r\n\t\tthis.setState({addfvis:false})\r\n\t}\r\n\thandleAdd=()=>{\r\n\t\tthis.setState({addfvis:true})\r\n\t}\r\n\trender(){\r\n\t\tlet friendList = this.state.friends.map((i,k)=>{\r\n\t\t\treturn <FriendItem friend={i} methods={{chatWith:this.chatWith}} key={k}/>\r\n\t\t})\r\n\t\t\r\n        return(\r\n\t\t<Row gutter={[1]}>\r\n\t\t\t<Modal\r\n\t\t\ttitle=\"编辑\"\r\n\t\t\tvisible={this.state.addfvis}\r\n\t\t\tonOk={this.addFriend}\r\n\t\t\tonCancel={this.handleCancel}\r\n\t\t\t>\r\n\t\t\t\t<Input type='number' ref='infid'  placeholder=\"输入id\"/>\r\n\t\t\t\t<Input ref='infname'  placeholder=\"输入备注\"/>\r\n\t\t\t</Modal>\r\n\t\t\t<Col span={6} style={{backgroundColor:\"rgba(255,255,255,0.3)\"}}>\r\n\t\t\t\t<Button block onClick={this.handleAdd} icon={<UserAddOutlined />} >\r\n\t\t\t\t\t添加\r\n\t\t\t\t</Button>\r\n\t\t\t\t{friendList}\r\n\t\t\t</Col>\r\n\t\t\t<Col span={18}>\r\n\t\t\t\t<Edit allMsg={this.state.allMsg} nowPeople={this.state.nowPeople} nowUser={this.state.user} methods={{send:this.send}}></Edit>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t\t\r\n    )}\r\n}\r\nexport default SendMsg","import React from 'react'\r\nimport {Modal,Button} from 'antd'\r\n\r\nclass Updata extends React.Component{\r\n\tstate = {\r\n\t\tvis:false\r\n\t}\r\n\t__version = '0.0.2'\r\n\tcomponentDidMount(){\r\n\t\tlet version\r\n\t\tif(version = localStorage.getItem('__version'))\r\n\t\t{\r\n\t\t\tif(this.__version > version)\r\n\t\t\t{\r\n\t\t\t\tthis.setState({vis:true})\r\n\t\t\t\tlocalStorage.setItem('__version',this.__version)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.setState({vis:true})\r\n\t\t\tlocalStorage.setItem('__version',this.__version)\r\n\t\t}\r\n\t}\r\n\tclose=()=>{\r\n\t\tthis.setState({vis:false})\r\n\t}\r\n    render(){\r\n        return(\r\n\t\t<Modal\r\n\t\t\tvisible={this.state.vis}\r\n\t\t\tfooter={null}\r\n\t\t\tclosable={true}\r\n\t\t\tonCancel={this.close}\r\n\t\t>\r\n\t\t\t<h2>欢迎使用</h2>\r\n\t\t\t<p>当前版本:{this.__version}</p>\r\n\t\t\t<h2>更新内容</h2>\r\n\t\t\t<p>\r\n\t\t\t1 修复了部分bug<br/>\r\n\t\t\t2 部分页面支持了黑夜模式, 将不断增加.<br/>\r\n\t\t\t3 增加了Todo功能, 它可以帮助选择困难症患者决定接下来该干哪一件事. 任务卡片将会一直显示在首页.\r\n\t\t\t除非将它完成.\r\n\t\t\t</p>\r\n\t\t\t\r\n\t\t\t<Button onClick={this.close}>我知道了</Button>\r\n\t\t</Modal>\r\n    )}\r\n}\r\nexport default Updata","import React from 'react'\r\n\r\nimport './style.css'\r\n\r\nlet selected = {\r\n\tbackgroundColor:'rgba(255,255,255)'\r\n}\r\nlet hover = {\r\n\t\r\n}\r\nclass View extends React.Component{\r\n    render(){\r\n        return(\r\n\t\t<div className={'viewItem'}>\r\n\t\t\t<b>任务 {this.props.index}</b><br/>\r\n\t\t\t{this.props.content}\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default View","import React from 'react'\r\nimport {Input,Radio,Button,message} from 'antd'\r\nimport {connect} from 'react-redux'\r\nconst { TextArea } = Input\r\nclass Edit extends React.Component{\r\n\tstate = {\r\n\t\tvalue:1\r\n\t}\r\n\tonChange=(e)=>{\r\n\t\tthis.setState({value:e.target.value})\r\n\t}\r\n\thandleClick=()=>{\r\n\t\tlet prior\r\n\t\tlet cost = this.state.value //预计花费时间\r\n\t\tlet content = this.content.innerText\r\n\t\tlet index = this.props.list.length\r\n\t\tprior = (index + cost)/cost\r\n\t\tthis.props.save({\r\n\t\t\tprior,\r\n\t\t\tcontent,\r\n\t\t\tstate:false //undo\r\n\t\t})\r\n\t\tmessage.success('保存成功')\r\n\t}\r\n    render(){\r\n\t\tconsole.log( this.props.theme_mode)\r\n\t\tlet classname = 'editor ' \r\n\t\tif(this.props.theme_mode == 'light')\r\n\t\t\tclassname += 'app_edit_light_theme'\r\n\t\telse\r\n\t\t\tclassname += 'app_edit_dark_theme'\r\n\t\t\t\r\n        return(\r\n\t\t<div className={classname}>\r\n\t\t<div style={{fontSize:'1.4rem'}}>\r\n\t\t\t选择困难症?\r\n\t\t</div>\r\n\t\t新建便签,输入你需要完成的一项工作. 此程序将通过一定的方法帮你确定你当前最需要做的事情, 并在首页提醒你<br/>\r\n\t\t<br/>\r\n\t\t<b>\r\n\t\t首先需要对完成此任务的耗时进行评估<br/>\r\n\t\t</b>\t\r\n\t\t\t<Radio.Group onChange={this.onChange} value={this.state.value}>\r\n\t\t\t\t<Radio.Button value={1}>十分钟左右</Radio.Button>\r\n\t\t\t\t<Radio.Button value={3}>半小时</Radio.Button>\r\n\t\t\t\t<Radio.Button value={12}>两小时内</Radio.Button>\r\n\t\t\t\t<Radio.Button value={15}>两小时以上</Radio.Button>\r\n\t\t\t</Radio.Group>\r\n\t\t<br/>\r\n\t\t<b>\r\n\t\t在下方输入工作的内容, 你应该为不同任务分别建立便签.\r\n\t\t</b>\r\n\t\t\t<div ref={i=>this.content=i} className={'editContent'} contentEditable=\"true\"> ... </div>\r\n\t\t\t<br/>\r\n\t\t\t<Button onClick={this.handleClick}>保存</Button>\r\n\t\t</div>\r\n    )}\r\n}\r\nexport default connect(\r\n\tstate => {\r\n\t\treturn {\r\n\t\t\tlist:state.todo.list,\r\n\t\t\ttheme_mode:state.themeName\r\n\t\t}\r\n\t},\r\n\tdispatch => {\r\n\t\treturn {\r\n\t\t\tsave:(v)=>dispatch({type:'addtodoitem',payload:{item:v}})\r\n\t\t}\r\n\t}\r\n)(Edit)\r\n ","import React from 'react'\r\nimport {Row,Col} from 'antd'\r\nimport View from './view-item'\r\nimport Edit from './edit'\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nclass Addtodo extends React.Component{\r\n\tstate = {\r\n\t\tclass:'',\r\n\t\tlist:[]\r\n\t}\r\n\ttheme = {\r\n\t\twidth:'100%',\r\n\t\theight:'calc(100vh - 45px)',\r\n\t\tcolor:(this.props.theme_mode == 'light')?'#000':'#fff',\r\n\t\tanimationDuration: '400ms'\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.setState({class:'animated zoomIn'}) \r\n\t}\r\n    render(){\r\n\t\tlet li = this.props.li\r\n\t\tlet items\r\n\t\titems = li.map((i,k)=>{\r\n\t\t\treturn <View content={i.content} key={'view'+k} index={k+1}/>\r\n\t\t})\r\n        return(\r\n\t\t\t<div style={this.theme} className = {this.state.class} >\r\n\t\t\t\t每天都要完成目标哦!\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xs={0}  sm={6} md={6} lg={6}>\r\n\t\t\t\t\t\t{items}\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col xs={24}  sm={18} md={18} lg={18}>\r\n\t\t\t\t\t\t<Edit/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)}\r\n}\r\nexport default connect(\r\n\tstate=>{\r\n\t\treturn {\r\n\t\t\tli:state.todo.list,\r\n\t\t\tindex:state.todo.index,\r\n\t\t\ttheme_mode:state.themeName\r\n\t\t}\r\n\t},\r\n\tdispatch=>{return {\r\n\t\tchangeIndex:i=>dispatch({type:'changetodoindex',payload:{index:i}}),\r\n\t\t\r\n\t}}\r\n)(Addtodo)\r\n ","import React from 'react'\r\nimport {Route,Switch,Redirect,BrowserRouter,Link} from 'react-router-dom'\r\nimport {Drawer, Button } from 'antd';\r\nimport { Row, Col } from 'antd';\r\nimport {connect} from 'react-redux'\r\n\r\nimport PubSub from '../lib/pub-sub'\r\n\r\nimport ToolMenu from './menu/index'\r\nimport HomePage from './home/index'\r\nimport About from './about/index'\r\nimport Header from './header/index'\r\nimport UserPanel from './user/usr-pre'\r\nimport UserAva from './user/avatar'\r\nimport Setting from './setting/index'\r\nimport Message from './message/index'\r\nimport AllMsg from './message/all-msg'\r\nimport SendMsg from './message/send-msg'\r\nimport ShowUpdata from './updata/index'\r\nimport AddTodo from './addtodo/index'\r\n\r\nclass MainLayout extends React.Component{\r\n\tcomponentWillMount(){\r\n\t\tPubSub.sub('header-menubtn-clicked',this.dealDrawer)\r\n\t\tlet user\r\n\t\tif (user = localStorage.getItem('user')) {\r\n\t\t\tuser = JSON.parse(user)\r\n\t\t\tthis.props.setUser(user)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.delUser(user)\r\n\t\t}\r\n\t}\r\n\tstate = {\r\n\t    visible:false\r\n\t}\r\n\tdealDrawer=()=>{\r\n\t\tthis.setState({\r\n\t\t  visible: true,\r\n\t\t})\r\n\t}\r\n\tonClose = () => {\r\n\t    this.setState({\r\n\t      visible: false,\r\n\t    })\r\n\t}\r\n\tuserLoginOut=()=>{\r\n\t\tlocalStorage.removeItem('user')\r\n\t\tthis.props.delUser()\r\n\t}\r\n\t\r\n\trender(){\r\n\t\tlet user\r\n\t\tif(this.props.user.login){\r\n\t\t\tuser = (<UserAva/>)\r\n\t\t} else {\r\n\t\t\tuser = (<UserPanel user={this.props.user} logOut={this.userLoginOut}/>)\r\n\t\t}\r\n\t\treturn(\r\n\t\t<BrowserRouter>\r\n\t\t\t<ShowUpdata/>\r\n\t\t\t<Drawer\r\n\t\t\ttitle=\"菜单\"\r\n\t\t\t    placement=\"left\"\r\n\t\t\t    closable={true}\r\n\t\t\t    onClose={this.onClose}\r\n\t\t\t    visible={this.state.visible}\r\n\t\t\t>\r\n\t\t\t\t{user}\r\n\t\t\t\t<ToolMenu/>\r\n\t\t\t</Drawer>\r\n\t\t\t <Header/>\r\n\t\t\t\t<br/><br/>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path='/home' component={HomePage}/>\r\n\t\t\t\t\t<Route path='/about'  component={About}/>\r\n\t\t\t\t\t<Route path='/AddTodo'  component={AddTodo}/>\r\n\t\t\t\t\t<Route path='/setting'  component={Setting}/>\r\n\t\t\t\t\t<Route path='/message' \r\n\t\t\t\t\t render={()=>(\r\n\t\t\t\t\t      <Message>\r\n\t\t\t\t\t        <Route path=\"/message/all\" exact={true} component={AllMsg} />\r\n\t\t\t\t\t\t\t<Route path=\"/message/send\" exact={true} component={SendMsg} />\r\n\t\t\t\t\t\t\t<Redirect to='/message/all'/>\r\n\t\t\t\t\t      </Message>\r\n\t\t\t\t\t    )}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Redirect to='/home'/>\r\n\t\t\t\t</Switch>\r\n\t\t\t</BrowserRouter>\r\n\t\t\t\r\n\t)\r\n\t}\r\n}\r\n\r\nfunction ststetoprops(state){\r\n\treturn{\r\n\t\tuser:state.user\r\n\t}\r\n}\r\nfunction dispatchtoprops(dispatch){\r\n\treturn {\r\n\t\tsetUser:(user)=>dispatch({type:'userLogin',payload:user}),\r\n\t\tdelUser:()=>dispatch({type:'userLoginOut',payload:{}})\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tststetoprops,\r\n\tdispatchtoprops\r\n)(MainLayout)\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport cssMix from '../../lib/css-mix'\r\nimport PubSub from '../../lib/pub-sub'\r\nimport './style.css'\r\n\r\nlet base = {\r\n\twidth:'100vw',\r\n\theight:'100vh',\r\n\tposition:'fixed',\r\n\tzIndex:'-1000',\r\n\ttransition: 'all 0.25s linear'\r\n}\r\nclass BackPic extends React.Component{\r\n\tstate={\r\n\t    isBlur:false,\r\n\t\tpicUrls:this.props.bgPic.picUrls,\r\n\t\tindex:this.props.bgPic.index,\r\n\t}\r\n    componentDidMount(){\r\n\t\tlet size\r\n\t\tPubSub.sub(\"picindexchange\",this.changeIndex)\r\n\t    if(size = localStorage.getItem('blursize')){\r\n\t\t\tsize = parseInt(size)\r\n\t\t\tif(size>=0 && size<=25){\r\n\t\t\t\tthis.lastBlur = size\r\n\t\t\t\tthis.setState({isBlur:true})\r\n\t\t\t\tthis.props.changeblursize(size)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlocalStorage.setItem('blursize',0)\r\n\t\t}\r\n\t\tPubSub.sub('change-blur-size',this.blurBySize)\r\n    }\r\n\tchangeIndex=(i)=>{\r\n\t\tthis.setState({\r\n\t\t\tindex:i\r\n\t\t})\r\n\t}\r\n\tlastBlur = 0\r\n    blur=()=>{\r\n\t\tthis.lastBlur = this.props.blurSize\r\n        if(this.state.isBlur == false){\r\n\t\t\tthis.props.changeblursize(25)\r\n        }\r\n    }\r\n    unblur=()=>{\r\n        if(this.state.isBlur == true){          \r\n\t\t\tthis.blurBySize(this.lastBlur)\r\n        }\r\n    }\r\n\tblurBySize=(size)=>{\r\n\t\tif(size>0){\r\n\t\t\tthis.setState({isBlur:true})\r\n\t\t} else {\r\n\t\t\tthis.setState({isBlur:false})\r\n\t\t}\r\n\t\tthis.props.changeblursize(size)\r\n\t}\r\n    render(){\r\n\t\tlet {picUrls,index} = this.state\r\n\t\tlet theme = null\r\n\t\tlet blur = {filter:'blur('+this.props.blurSize+'px)'}\r\n\t\tindex = parseInt(index)\r\n\t\tlet bg = {\r\n\t\t\t//backgroundSize:\"cover\",\r\n\t\t\tbackground:\"url(\"+picUrls[index].url+\") no-repeat center \",\r\n\t\t}\r\n\t\ttheme = cssMix(base,bg,blur)\r\n        return (\r\n\t\t\t<div style={theme} className={this.state.isBlur?'base blur':'base unblur'}></div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nfunction ststetoprops(state){\r\n\treturn{\r\n\t\ttheme:state.theme,\r\n\t\tblurSize:state.bgBlurSize,\r\n\t\tbgPic:state.bgPic\r\n\t}\r\n}\r\nfunction dispatchtoprops(dispatch){\r\n\treturn {\r\n\t\tchangeblursize:(size)=>dispatch({type:'changeblursize',payload:size}),\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tststetoprops,\r\n\tdispatchtoprops\r\n)(BackPic)\r\n","import React from 'react';\n\nimport './App.css';\n\n\r\nimport MainLayout from './components/main-layout'\nimport BackPic from './components/back-pic/back-pic'\n\n\nfunction App() {\n  return (\n    <div className='main'>\n      <BackPic/>\n      <MainLayout/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport DeviceDetector from './lib/device-detector'\nimport {Provider} from 'react-redux'\r\n\r\nimport store from './store/index.js'\nDeviceDetector.init()\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t<App />\r\n\t</Provider>\r\n\t, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}